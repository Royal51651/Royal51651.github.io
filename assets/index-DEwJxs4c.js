(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();const Zn=!1;var bt=Array.isArray,Qi=Array.prototype.indexOf,Mn=Array.from,Xi=Object.defineProperty,_e=Object.getOwnPropertyDescriptor,Xr=Object.getOwnPropertyDescriptors,Zi=Object.prototype,es=Array.prototype,jn=Object.getPrototypeOf,er=Object.isExtensible;function st(n){return typeof n=="function"}const He=()=>{};function ts(n){return n()}function dt(n){for(var e=0;e<n.length;e++)n[e]()}const ee=2,Zr=4,Mt=8,Dn=16,he=32,Ye=64,Fn=128,Y=256,Pt=512,z=1024,ae=2048,Ee=4096,de=8192,xn=16384,ei=32768,jt=65536,ns=1<<17,rs=1<<19,ti=1<<20,In=1<<21,Pe=Symbol("$state"),ni=Symbol("legacy props");function ri(n){return n===this.v}function ii(n,e){return n!=n?e==e:n!==e||n!==null&&typeof n=="object"||typeof n=="function"}function Kn(n){return!ii(n,this.v)}function is(n){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ss(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function os(n){throw new Error("https://svelte.dev/e/effect_orphan")}function as(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ls(n){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function cs(n){throw new Error("https://svelte.dev/e/props_invalid_value")}function us(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function fs(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ds(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let We=!1,hs=!1;function gs(){We=!0}const ps=1,bs=2,vs=16,ms=1,ys=2,_s=4,ws=8,Cs=16,Ss=1,Es=2,$=Symbol(),ks="http://www.w3.org/1999/xhtml";function Dt(n){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let B=null;function tr(n){B=n}function vt(n,e=!1,t){var r=B={p:B,c:null,d:!1,e:null,m:!1,s:n,x:null,l:null};We&&!e&&(B.l={s:null,u:null,r1:[],r2:Je(!1)}),Os(()=>{r.d=!0})}function mt(n){const e=B;if(e!==null){const o=e.e;if(o!==null){var t=q,r=U;e.e=null;try{for(var i=0;i<o.length;i++){var s=o[i];Ce(s.effect),le(s.reaction),bi(s.fn)}}finally{Ce(t),le(r)}}B=e.p,e.m=!0}return{}}function yt(){return!We||B!==null&&B.l===null}function se(n){if(typeof n!="object"||n===null||Pe in n)return n;const e=jn(n);if(e!==Zi&&e!==es)return n;var t=new Map,r=bt(n),i=F(0),s=U,o=a=>{var l=U;le(s);var c=a();return le(l),c};return r&&t.set("length",F(n.length)),new Proxy(n,{defineProperty(a,l,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&us();var d=t.get(l);return d===void 0?(d=o(()=>F(c.value)),t.set(l,d)):N(d,o(()=>se(c.value))),!0},deleteProperty(a,l){var c=t.get(l);if(c===void 0)l in a&&(t.set(l,o(()=>F($))),Xt(i));else{if(r&&typeof l=="string"){var d=t.get("length"),f=Number(l);Number.isInteger(f)&&f<d.v&&N(d,f)}N(c,$),Xt(i)}return!0},get(a,l,c){var h;if(l===Pe)return n;var d=t.get(l),f=l in a;if(d===void 0&&(!f||(h=_e(a,l))!=null&&h.writable)&&(d=o(()=>F(se(f?a[l]:$))),t.set(l,d)),d!==void 0){var u=S(d);return u===$?void 0:u}return Reflect.get(a,l,c)},getOwnPropertyDescriptor(a,l){var c=Reflect.getOwnPropertyDescriptor(a,l);if(c&&"value"in c){var d=t.get(l);d&&(c.value=S(d))}else if(c===void 0){var f=t.get(l),u=f==null?void 0:f.v;if(f!==void 0&&u!==$)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return c},has(a,l){var u;if(l===Pe)return!0;var c=t.get(l),d=c!==void 0&&c.v!==$||Reflect.has(a,l);if(c!==void 0||q!==null&&(!d||(u=_e(a,l))!=null&&u.writable)){c===void 0&&(c=o(()=>F(d?se(a[l]):$)),t.set(l,c));var f=S(c);if(f===$)return!1}return d},set(a,l,c,d){var k;var f=t.get(l),u=l in a;if(r&&l==="length")for(var h=c;h<f.v;h+=1){var b=t.get(h+"");b!==void 0?N(b,$):h in a&&(b=o(()=>F($)),t.set(h+"",b))}f===void 0?(!u||(k=_e(a,l))!=null&&k.writable)&&(f=o(()=>F(void 0)),N(f,o(()=>se(c))),t.set(l,f)):(u=f.v!==$,N(f,o(()=>se(c))));var v=Reflect.getOwnPropertyDescriptor(a,l);if(v!=null&&v.set&&v.set.call(d,c),!u){if(r&&typeof l=="string"){var I=t.get("length"),m=Number(l);Number.isInteger(m)&&m>=I.v&&N(I,m+1)}Xt(i)}return!0},ownKeys(a){S(i);var l=Reflect.ownKeys(a).filter(f=>{var u=t.get(f);return u===void 0||u.v!==$});for(var[c,d]of t)d.v!==$&&!(c in a)&&l.push(c);return l},setPrototypeOf(){fs()}})}function Xt(n,e=1){N(n,n.v+e)}function ht(n){var e=ee|ae,t=U!==null&&(U.f&ee)!==0?U:null;return q===null||t!==null&&(t.f&Y)!==0?e|=Y:q.f|=ti,{ctx:B,deps:null,effects:null,equals:ri,f:e,fn:n,reactions:null,rv:0,v:null,wv:0,parent:t??q}}function si(n){const e=ht(n);return e.equals=Kn,e}function oi(n){var e=n.effects;if(e!==null){n.effects=null;for(var t=0;t<e.length;t+=1)we(e[t])}}function Ts(n){for(var e=n.parent;e!==null;){if((e.f&ee)===0)return e;e=e.parent}return null}function ai(n){var e,t=q;Ce(Ts(n));try{oi(n),e=Ti(n)}finally{Ce(t)}return e}function li(n){var e=ai(n);if(n.equals(e)||(n.v=e,n.wv=Ei()),!Xe){var t=(ye||(n.f&Y)!==0)&&n.deps!==null?Ee:z;Z(n,t)}}const gt=new Map;function Je(n,e){var t={f:0,v:n,reactions:null,equals:ri,rv:0,wv:0};return t}function F(n,e){const t=Je(n);return Ks(t),t}function ut(n,e=!1){var r;const t=Je(n);return e||(t.equals=Kn),We&&B!==null&&B.l!==null&&((r=B.l).s??(r.s=[])).push(t),t}function N(n,e,t=!1){U!==null&&!oe&&yt()&&(U.f&(ee|Dn))!==0&&!(H!=null&&H.includes(n))&&ds();let r=t?se(e):e;return ci(n,r)}function ci(n,e){if(!n.equals(e)){var t=n.v;Xe?gt.set(n,e):gt.set(n,t),n.v=e,(n.f&ee)!==0&&((n.f&ae)!==0&&ai(n),Z(n,(n.f&Y)===0?z:Ee)),n.wv=Ei(),ui(n,ae),yt()&&q!==null&&(q.f&z)!==0&&(q.f&(he|Ye))===0&&(X===null?Vs([n]):X.push(n))}return e}function ui(n,e){var t=n.reactions;if(t!==null)for(var r=yt(),i=t.length,s=0;s<i;s++){var o=t[s],a=o.f;(a&ae)===0&&(!r&&o===q||(Z(o,e),(a&(z|Y))!==0&&((a&ee)!==0?ui(o,Ee):Ht(o))))}}let Rs=!1;var nr,fi,di,hi;function Is(){if(nr===void 0){nr=window,fi=/Firefox/.test(navigator.userAgent);var n=Element.prototype,e=Node.prototype,t=Text.prototype;di=_e(e,"firstChild").get,hi=_e(e,"nextSibling").get,er(n)&&(n.__click=void 0,n.__className=void 0,n.__attributes=null,n.__style=void 0,n.__e=void 0),er(t)&&(t.__t=void 0)}}function gi(n=""){return document.createTextNode(n)}function Ot(n){return di.call(n)}function Ft(n){return hi.call(n)}function j(n,e){return Ot(n)}function fe(n,e){{var t=Ot(n);return t instanceof Comment&&t.data===""?Ft(t):t}}function M(n,e=1,t=!1){let r=n;for(;e--;)r=Ft(r);return r}function As(n){n.textContent=""}function pi(n){q===null&&U===null&&os(),U!==null&&(U.f&Y)!==0&&q===null&&ss(),Xe&&is()}function Ps(n,e){var t=e.last;t===null?e.last=e.first=n:(t.next=n,n.prev=t,e.last=n)}function Qe(n,e,t,r=!0){var i=q,s={ctx:B,deps:null,nodes_start:null,nodes_end:null,f:n|ae,first:null,fn:e,last:null,next:null,parent:i,prev:null,teardown:null,transitions:null,wv:0};if(t)try{Vt(s),s.f|=ei}catch(l){throw we(s),l}else e!==null&&Ht(s);var o=t&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&(ti|Fn))===0;if(!o&&r&&(i!==null&&Ps(s,i),U!==null&&(U.f&ee)!==0)){var a=U;(a.effects??(a.effects=[])).push(s)}return s}function Os(n){const e=Qe(Mt,null,!1);return Z(e,z),e.teardown=n,e}function An(n){pi();var e=q!==null&&(q.f&he)!==0&&B!==null&&!B.m;if(e){var t=B;(t.e??(t.e=[])).push({fn:n,effect:q,reaction:U})}else{var r=bi(n);return r}}function Ns(n){return pi(),xt(n)}function Ls(n){const e=Qe(Ye,n,!0);return(t={})=>new Promise(r=>{t.outro?pt(e,()=>{we(e),r(void 0)}):(we(e),r(void 0))})}function bi(n){return Qe(Zr,n,!1)}function Bs(n,e){var t=B,r={effect:null,ran:!1};t.l.r1.push(r),r.effect=xt(()=>{n(),!r.ran&&(r.ran=!0,N(t.l.r2,!0),Se(e))})}function qs(){var n=B;xt(()=>{if(S(n.l.r2)){for(var e of n.l.r1){var t=e.effect;(t.f&z)!==0&&Z(t,Ee),Ze(t)&&Vt(t),e.ran=!1}n.l.r2.v=!1}})}function xt(n){return Qe(Mt,n,!0)}function Ae(n,e=[],t=ht){const r=e.map(t);return Kt(()=>n(...r.map(S)))}function Kt(n,e=0){return Qe(Mt|Dn|e,n,!0)}function Ge(n,e=!0){return Qe(Mt|he,n,!0,e)}function vi(n){var e=n.teardown;if(e!==null){const t=Xe,r=U;rr(!0),le(null);try{e.call(null)}finally{rr(t),le(r)}}}function mi(n,e=!1){var t=n.first;for(n.first=n.last=null;t!==null;){var r=t.next;(t.f&Ye)!==0?t.parent=null:we(t,e),t=r}}function Us(n){for(var e=n.first;e!==null;){var t=e.next;(e.f&he)===0&&we(e),e=t}}function we(n,e=!0){var t=!1;(e||(n.f&rs)!==0)&&n.nodes_start!==null&&n.nodes_end!==null&&(Ms(n.nodes_start,n.nodes_end),t=!0),mi(n,e&&!t),Ut(n,0),Z(n,xn);var r=n.transitions;if(r!==null)for(const s of r)s.stop();vi(n);var i=n.parent;i!==null&&i.first!==null&&yi(n),n.next=n.prev=n.teardown=n.ctx=n.deps=n.fn=n.nodes_start=n.nodes_end=null}function Ms(n,e){for(;n!==null;){var t=n===e?null:Ft(n);n.remove(),n=t}}function yi(n){var e=n.parent,t=n.prev,r=n.next;t!==null&&(t.next=r),r!==null&&(r.prev=t),e!==null&&(e.first===n&&(e.first=r),e.last===n&&(e.last=t))}function pt(n,e){var t=[];Vn(n,t,!0),_i(t,()=>{we(n),e&&e()})}function _i(n,e){var t=n.length;if(t>0){var r=()=>--t||e();for(var i of n)i.out(r)}else e()}function Vn(n,e,t){if((n.f&de)===0){if(n.f^=de,n.transitions!==null)for(const o of n.transitions)(o.is_global||t)&&e.push(o);for(var r=n.first;r!==null;){var i=r.next,s=(r.f&jt)!==0||(r.f&he)!==0;Vn(r,e,s?t:!1),r=i}}}function Nt(n){wi(n,!0)}function wi(n,e){if((n.f&de)!==0){n.f^=de,(n.f&z)===0&&(n.f^=z),Ze(n)&&(Z(n,ae),Ht(n));for(var t=n.first;t!==null;){var r=t.next,i=(t.f&jt)!==0||(t.f&he)!==0;wi(t,i?e:!1),t=r}if(n.transitions!==null)for(const s of n.transitions)(s.is_global||e)&&s.in()}}let Pn=[],On=[];function js(){var n=Pn;Pn=[],dt(n)}function Ds(){var n=On;On=[],dt(n)}function Fs(){Pn.length>0&&js(),On.length>0&&Ds()}function xs(n){var e=q;if((e.f&ei)===0){if((e.f&Fn)===0)throw n;e.fn(n)}else Ci(n,e)}function Ci(n,e){for(;e!==null;){if((e.f&Fn)!==0)try{e.fn(n);return}catch{}e=e.parent}throw n}let Lt=!1,Bt=null,Oe=!1,Xe=!1;function rr(n){Xe=n}let ft=[];let U=null,oe=!1;function le(n){U=n}let q=null;function Ce(n){q=n}let H=null;function Ks(n){U!==null&&U.f&In&&(H===null?H=[n]:H.push(n))}let V=null,G=0,X=null;function Vs(n){X=n}let Si=1,qt=0,ye=!1;function Ei(){return++Si}function Ze(n){var f;var e=n.f;if((e&ae)!==0)return!0;if((e&Ee)!==0){var t=n.deps,r=(e&Y)!==0;if(t!==null){var i,s,o=(e&Pt)!==0,a=r&&q!==null&&!ye,l=t.length;if(o||a){var c=n,d=c.parent;for(i=0;i<l;i++)s=t[i],(o||!((f=s==null?void 0:s.reactions)!=null&&f.includes(c)))&&(s.reactions??(s.reactions=[])).push(c);o&&(c.f^=Pt),a&&d!==null&&(d.f&Y)===0&&(c.f^=Y)}for(i=0;i<l;i++)if(s=t[i],Ze(s)&&li(s),s.wv>n.wv)return!0}(!r||q!==null&&!ye)&&Z(n,z)}return!1}function ki(n,e,t=!0){var r=n.reactions;if(r!==null)for(var i=0;i<r.length;i++){var s=r[i];H!=null&&H.includes(n)||((s.f&ee)!==0?ki(s,e,!1):e===s&&(t?Z(s,ae):(s.f&z)!==0&&Z(s,Ee),Ht(s)))}}function Ti(n){var h;var e=V,t=G,r=X,i=U,s=ye,o=H,a=B,l=oe,c=n.f;V=null,G=0,X=null,ye=(c&Y)!==0&&(oe||!Oe||U===null),U=(c&(he|Ye))===0?n:null,H=null,tr(n.ctx),oe=!1,qt++,n.f|=In;try{var d=(0,n.fn)(),f=n.deps;if(V!==null){var u;if(Ut(n,G),f!==null&&G>0)for(f.length=G+V.length,u=0;u<V.length;u++)f[G+u]=V[u];else n.deps=f=V;if(!ye)for(u=G;u<f.length;u++)((h=f[u]).reactions??(h.reactions=[])).push(n)}else f!==null&&G<f.length&&(Ut(n,G),f.length=G);if(yt()&&X!==null&&!oe&&f!==null&&(n.f&(ee|Ee|ae))===0)for(u=0;u<X.length;u++)ki(X[u],n);return i!==null&&i!==n&&(qt++,X!==null&&(r===null?r=X:r.push(...X))),d}catch(b){xs(b)}finally{V=e,G=t,X=r,U=i,ye=s,H=o,tr(a),oe=l,n.f^=In}}function Hs(n,e){let t=e.reactions;if(t!==null){var r=Qi.call(t,n);if(r!==-1){var i=t.length-1;i===0?t=e.reactions=null:(t[r]=t[i],t.pop())}}t===null&&(e.f&ee)!==0&&(V===null||!V.includes(e))&&(Z(e,Ee),(e.f&(Y|Pt))===0&&(e.f^=Pt),oi(e),Ut(e,0))}function Ut(n,e){var t=n.deps;if(t!==null)for(var r=e;r<t.length;r++)Hs(n,t[r])}function Vt(n){var e=n.f;if((e&xn)===0){Z(n,z);var t=q,r=Oe;q=n,Oe=!0;try{(e&Dn)!==0?Us(n):mi(n),vi(n);var i=Ti(n);n.teardown=typeof i=="function"?i:null,n.wv=Si;var s=n.deps,o;Zn&&hs&&n.f&ae}finally{Oe=r,q=t}}}function zs(){try{as()}catch(n){if(Bt!==null)Ci(n,Bt);else throw n}}function Ri(){var n=Oe;try{var e=0;for(Oe=!0;ft.length>0;){e++>1e3&&zs();var t=ft,r=t.length;ft=[];for(var i=0;i<r;i++){var s=Js(t[i]);$s(s)}gt.clear()}}finally{Lt=!1,Oe=n,Bt=null}}function $s(n){var e=n.length;if(e!==0)for(var t=0;t<e;t++){var r=n[t];(r.f&(xn|de))===0&&Ze(r)&&(Vt(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?yi(r):r.fn=null))}}function Ht(n){Lt||(Lt=!0,queueMicrotask(Ri));for(var e=Bt=n;e.parent!==null;){e=e.parent;var t=e.f;if((t&(Ye|he))!==0){if((t&z)===0)return;e.f^=z}}ft.push(e)}function Js(n){for(var e=[],t=n;t!==null;){var r=t.f,i=(r&(he|Ye))!==0,s=i&&(r&z)!==0;if(!s&&(r&de)===0){(r&Zr)!==0?e.push(t):i?t.f^=z:Ze(t)&&Vt(t);var o=t.first;if(o!==null){t=o;continue}}var a=t.parent;for(t=t.next;t===null&&a!==null;)t=a.next,a=a.parent}return e}function Gs(n){for(var e;;){if(Fs(),ft.length===0)return e;Lt=!0,Ri()}}async function Ii(){await Promise.resolve(),Gs()}function S(n){var e=n.f,t=(e&ee)!==0;if(U!==null&&!oe){if(!(H!=null&&H.includes(n))){var r=U.deps;n.rv<qt&&(n.rv=qt,V===null&&r!==null&&r[G]===n?G++:V===null?V=[n]:(!ye||!V.includes(n))&&V.push(n))}}else if(t&&n.deps===null&&n.effects===null){var i=n,s=i.parent;s!==null&&(s.f&Y)===0&&(i.f^=Y)}return t&&(i=n,Ze(i)&&li(i)),Xe&&gt.has(n)?gt.get(n):n.v}function Se(n){var e=oe;try{return oe=!0,n()}finally{oe=e}}const Ys=-7169;function Z(n,e){n.f=n.f&Ys|e}function Ai(n){if(!(typeof n!="object"||!n||n instanceof EventTarget)){if(Pe in n)Nn(n);else if(!Array.isArray(n))for(let e in n){const t=n[e];typeof t=="object"&&t&&Pe in t&&Nn(t)}}}function Nn(n,e=new Set){if(typeof n=="object"&&n!==null&&!(n instanceof EventTarget)&&!e.has(n)){e.add(n),n instanceof Date&&n.getTime();for(let r in n)try{Nn(n[r],e)}catch{}const t=jn(n);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const r=Xr(t);for(let i in r){const s=r[i].get;if(s)try{s.call(n)}catch{}}}}}const Ws=["touchstart","touchmove"];function Qs(n){return Ws.includes(n)}let ir=!1;function Xs(){ir||(ir=!0,document.addEventListener("reset",n=>{Promise.resolve().then(()=>{var e;if(!n.defaultPrevented)for(const t of n.target.elements)(e=t.__on_r)==null||e.call(t)})},{capture:!0}))}function Zs(n){var e=U,t=q;le(null),Ce(null);try{return n()}finally{le(e),Ce(t)}}function eo(n,e,t,r=t){n.addEventListener(e,()=>Zs(t));const i=n.__on_r;i?n.__on_r=()=>{i(),r(!0)}:n.__on_r=()=>r(!0),Xs()}const Pi=new Set,Ln=new Set;function Hn(n){for(var e=0;e<n.length;e++)Pi.add(n[e]);for(var t of Ln)t(n)}function Tt(n){var k;var e=this,t=e.ownerDocument,r=n.type,i=((k=n.composedPath)==null?void 0:k.call(n))||[],s=i[0]||n.target,o=0,a=n.__root;if(a){var l=i.indexOf(a);if(l!==-1&&(e===document||e===window)){n.__root=e;return}var c=i.indexOf(e);if(c===-1)return;l<=c&&(o=l)}if(s=i[o]||n.target,s!==e){Xi(n,"currentTarget",{configurable:!0,get(){return s||t}});var d=U,f=q;le(null),Ce(null);try{for(var u,h=[];s!==null;){var b=s.assignedSlot||s.parentNode||s.host||null;try{var v=s["__"+r];if(v!=null&&(!s.disabled||n.target===s))if(bt(v)){var[I,...m]=v;I.apply(s,[n,...m])}else v.call(s,n)}catch(w){u?h.push(w):u=w}if(n.cancelBubble||b===e||b===null)break;s=b}if(u){for(let w of h)queueMicrotask(()=>{throw w});throw u}}finally{n.__root=e,delete n.currentTarget,le(d),Ce(f)}}}function to(n){var e=document.createElement("template");return e.innerHTML=n.replaceAll("<!>","<!---->"),e.content}function Bn(n,e){var t=q;t.nodes_start===null&&(t.nodes_start=n,t.nodes_end=e)}function te(n,e){var t=(e&Ss)!==0,r=(e&Es)!==0,i,s=!n.startsWith("<!>");return()=>{i===void 0&&(i=to(s?n:"<!>"+n),t||(i=Ot(i)));var o=r||fi?document.importNode(i,!0):i.cloneNode(!0);if(t){var a=Ot(o),l=o.lastChild;Bn(a,l)}else Bn(o,o);return o}}function ze(){var n=document.createDocumentFragment(),e=document.createComment(""),t=gi();return n.append(e,t),Bn(e,t),n}function x(n,e){n!==null&&n.before(e)}function Ve(n,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(n.__t??(n.__t=n.nodeValue))&&(n.__t=t,n.nodeValue=t+"")}function no(n,e){return ro(n,e)}const je=new Map;function ro(n,{target:e,anchor:t,props:r={},events:i,context:s,intro:o=!0}){Is();var a=new Set,l=f=>{for(var u=0;u<f.length;u++){var h=f[u];if(!a.has(h)){a.add(h);var b=Qs(h);e.addEventListener(h,Tt,{passive:b});var v=je.get(h);v===void 0?(document.addEventListener(h,Tt,{passive:b}),je.set(h,1)):je.set(h,v+1)}}};l(Mn(Pi)),Ln.add(l);var c=void 0,d=Ls(()=>{var f=t??e.appendChild(gi());return Ge(()=>{if(s){vt({});var u=B;u.c=s}i&&(r.$$events=i),c=n(f,r)||{},s&&mt()}),()=>{var b;for(var u of a){e.removeEventListener(u,Tt);var h=je.get(u);--h===0?(document.removeEventListener(u,Tt),je.delete(u)):je.set(u,h)}Ln.delete(l),f!==t&&((b=f.parentNode)==null||b.removeChild(f))}});return io.set(c,d),c}let io=new WeakMap;function lt(n,e,[t,r]=[0,0]){var i=n,s=null,o=null,a=$,l=t>0?jt:0,c=!1;const d=(u,h=!0)=>{c=!0,f(h,u)},f=(u,h)=>{a!==(a=u)&&(a?(s?Nt(s):h&&(s=Ge(()=>h(i))),o&&pt(o,()=>{o=null})):(o?Nt(o):h&&(o=Ge(()=>h(i,[t+1,r]))),s&&pt(s,()=>{s=null})))};Kt(()=>{c=!1,e(d),c||f(null,null)},l)}function sr(n,e){return e}function so(n,e,t,r){for(var i=[],s=e.length,o=0;o<s;o++)Vn(e[o].e,i,!0);var a=s>0&&i.length===0&&t!==null;if(a){var l=t.parentNode;As(l),l.append(t),r.clear(),me(n,e[0].prev,e[s-1].next)}_i(i,()=>{for(var c=0;c<s;c++){var d=e[c];a||(r.delete(d.k),me(n,d.prev,d.next)),we(d.e,!a)}})}function or(n,e,t,r,i,s=null){var o=n,a={flags:e,items:new Map,first:null},l=null,c=!1,d=si(()=>{var f=t();return bt(f)?f:f==null?[]:Mn(f)});Kt(()=>{var f=S(d),u=f.length;c&&u===0||(c=u===0,oo(f,a,o,i,e,r,t),s!==null&&(u===0?l?Nt(l):l=Ge(()=>s(o)):l!==null&&pt(l,()=>{l=null})),S(d))})}function oo(n,e,t,r,i,s,o){var a=n.length,l=e.items,c=e.first,d=c,f,u=null,h=[],b=[],v,I,m,k;for(k=0;k<a;k+=1){if(v=n[k],I=s(v,k),m=l.get(I),m===void 0){var w=d?d.e.nodes_start:t;u=lo(w,e,u,u===null?e.first:u.next,v,I,k,r,i,o),l.set(I,u),h=[],b=[],d=u.next;continue}if(ao(m,v,k),(m.e.f&de)!==0&&Nt(m.e),m!==d){if(f!==void 0&&f.has(m)){if(h.length<b.length){var E=b[0],C;u=E.prev;var g=h[0],p=h[h.length-1];for(C=0;C<h.length;C+=1)ar(h[C],E,t);for(C=0;C<b.length;C+=1)f.delete(b[C]);me(e,g.prev,p.next),me(e,u,g),me(e,p,E),d=E,u=p,k-=1,h=[],b=[]}else f.delete(m),ar(m,d,t),me(e,m.prev,m.next),me(e,m,u===null?e.first:u.next),me(e,u,m),u=m;continue}for(h=[],b=[];d!==null&&d.k!==I;)(d.e.f&de)===0&&(f??(f=new Set)).add(d),b.push(d),d=d.next;if(d===null)continue;m=d}h.push(m),u=m,d=m.next}if(d!==null||f!==void 0){for(var _=f===void 0?[]:Mn(f);d!==null;)(d.e.f&de)===0&&_.push(d),d=d.next;var y=_.length;if(y>0){var T=null;so(e,_,T,l)}}q.first=e.first&&e.first.e,q.last=u&&u.e}function ao(n,e,t,r){ci(n.v,e),n.i=t}function lo(n,e,t,r,i,s,o,a,l,c){var d=(l&ps)!==0,f=(l&vs)===0,u=d?f?ut(i):Je(i):i,h=(l&bs)===0?o:Je(o),b={i:h,v:u,k:s,a:null,e:null,prev:t,next:r};try{return b.e=Ge(()=>a(n,u,h,c),Rs),b.e.prev=t&&t.e,b.e.next=r&&r.e,t===null?e.first=b:(t.next=b,t.e.next=b.e),r!==null&&(r.prev=b,r.e.prev=b.e),b}finally{}}function ar(n,e,t){for(var r=n.next?n.next.e.nodes_start:t,i=e?e.e.nodes_start:t,s=n.e.nodes_start;s!==r;){var o=Ft(s);i.before(s),s=o}}function me(n,e,t){e===null?n.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function lr(n,e,t){var r=n,i,s;Kt(()=>{i!==(i=e())&&(s&&(pt(s),s=null),i&&(s=Ge(()=>t(r,i))))},jt)}function co(n,e,t){var r=n==null?"":""+n;return e&&(r=r?r+" "+e:e),r===""?null:r}function uo(n,e){return n==null?null:String(n)}function Ke(n,e,t,r,i,s){var o=n.__className;if(o!==t||o===void 0){var a=co(t,r);a==null?n.removeAttribute("class"):n.className=a,n.__className=t}return s}function Zt(n,e,t,r){var i=n.__style;if(i!==e){var s=uo(e);s==null?n.removeAttribute("style"):n.style.cssText=s,n.__style=e}return r}const fo=Symbol("is custom element"),ho=Symbol("is html");function cr(n,e,t,r){var i=go(n);i[e]!==(i[e]=t)&&(t==null?n.removeAttribute(e):typeof t!="string"&&po(n).includes(e)?n[e]=t:n.setAttribute(e,t))}function go(n){return n.__attributes??(n.__attributes={[fo]:n.nodeName.includes("-"),[ho]:n.namespaceURI===ks})}var ur=new Map;function po(n){var e=ur.get(n.nodeName);if(e)return e;ur.set(n.nodeName,e=[]);for(var t,r=n,i=Element.prototype;i!==r;){t=Xr(r);for(var s in t)t[s].set&&e.push(s);r=jn(r)}return e}function fr(n,e,t=e){var r=yt();eo(n,"input",i=>{var s=i?n.defaultValue:n.value;if(s=en(n)?tn(s):s,t(s),r&&s!==(s=e())){var o=n.selectionStart,a=n.selectionEnd;n.value=s??"",a!==null&&(n.selectionStart=o,n.selectionEnd=Math.min(a,n.value.length))}}),Se(e)==null&&n.value&&t(en(n)?tn(n.value):n.value),xt(()=>{var i=e();en(n)&&i===tn(n.value)||n.type==="date"&&!i&&!n.value||i!==n.value&&(n.value=i??"")})}function en(n){var e=n.type;return e==="number"||e==="range"}function tn(n){return n===""?null:+n}function zn(n=!1){const e=B,t=e.l.u;if(!t)return;let r=()=>Ai(e.s);if(n){let i=0,s={};const o=ht(()=>{let a=!1;const l=e.s;for(const c in l)l[c]!==s[c]&&(s[c]=l[c],a=!0);return a&&i++,i});r=()=>S(o)}t.b.length&&Ns(()=>{dr(e,r),dt(t.b)}),An(()=>{const i=Se(()=>t.m.map(ts));return()=>{for(const s of i)typeof s=="function"&&s()}}),t.a.length&&An(()=>{dr(e,r),dt(t.a)})}function dr(n,e){if(n.l.s)for(const t of n.l.s)S(t);e()}function bo(n){var e=Je(0);return function(){return arguments.length===1?(N(e,S(e)+1),arguments[0]):(S(e),n())}}function hr(n,e){var s;var t=(s=n.$$events)==null?void 0:s[e.type],r=bt(t)?t.slice():t==null?[]:[t];for(var i of r)i.call(this,e)}function vo(n,e,t){if(n==null)return e(void 0),t&&t(void 0),He;const r=Se(()=>n.subscribe(e,t));return r.unsubscribe?()=>r.unsubscribe():r}const De=[];function Oi(n,e){return{subscribe:Ni(n,e).subscribe}}function Ni(n,e=He){let t=null;const r=new Set;function i(a){if(ii(n,a)&&(n=a,t)){const l=!De.length;for(const c of r)c[1](),De.push(c,n);if(l){for(let c=0;c<De.length;c+=2)De[c][0](De[c+1]);De.length=0}}}function s(a){i(a(n))}function o(a,l=He){const c=[a,l];return r.add(c),r.size===1&&(t=e(i,s)||He),a(n),()=>{r.delete(c),r.size===0&&t&&(t(),t=null)}}return{set:i,update:s,subscribe:o}}function Li(n,e,t){const r=!Array.isArray(n),i=r?[n]:n;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return Oi(t,(o,a)=>{let l=!1;const c=[];let d=0,f=He;const u=()=>{if(d)return;f();const b=e(r?c[0]:c,o,a);s?o(b):f=typeof b=="function"?b:He},h=i.map((b,v)=>vo(b,I=>{c[v]=I,d&=~(1<<v),l&&u()},()=>{d|=1<<v}));return l=!0,u(),function(){dt(h),f(),l=!1}})}let Rt=!1;function mo(n){var e=Rt;try{return Rt=!1,[n(),Rt]}finally{Rt=e}}const yo={get(n,e){let t=n.props.length;for(;t--;){let r=n.props[t];if(st(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r)return r[e]}},set(n,e,t){let r=n.props.length;for(;r--;){let i=n.props[r];st(i)&&(i=i());const s=_e(i,e);if(s&&s.set)return s.set(t),!0}return!1},getOwnPropertyDescriptor(n,e){let t=n.props.length;for(;t--;){let r=n.props[t];if(st(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r){const i=_e(r,e);return i&&!i.configurable&&(i.configurable=!0),i}}},has(n,e){if(e===Pe||e===ni)return!1;for(let t of n.props)if(st(t)&&(t=t()),t!=null&&e in t)return!0;return!1},ownKeys(n){const e=[];for(let t of n.props)if(st(t)&&(t=t()),!!t){for(const r in t)e.includes(r)||e.push(r);for(const r of Object.getOwnPropertySymbols(t))e.includes(r)||e.push(r)}return e}};function gr(...n){return new Proxy({props:n},yo)}function pr(n){var e;return((e=n.ctx)==null?void 0:e.d)??!1}function nn(n,e,t,r){var g;var i=(t&ms)!==0,s=!We||(t&ys)!==0,o=(t&ws)!==0,a=(t&Cs)!==0,l=!1,c;o?[c,l]=mo(()=>n[e]):c=n[e];var d=Pe in n||ni in n,f=o&&(((g=_e(n,e))==null?void 0:g.set)??(d&&e in n&&(p=>n[e]=p)))||void 0,u=r,h=!0,b=!1,v=()=>(b=!0,h&&(h=!1,a?u=Se(r):u=r),u);c===void 0&&r!==void 0&&(f&&s&&cs(),c=v(),f&&f(c));var I;if(s)I=()=>{var p=n[e];return p===void 0?v():(h=!0,b=!1,p)};else{var m=(i?ht:si)(()=>n[e]);m.f|=ns,I=()=>{var p=S(m);return p!==void 0&&(u=void 0),p===void 0?u:p}}if((t&_s)===0&&s)return I;if(f){var k=n.$$legacy;return function(p,_){return arguments.length>0?((!s||!_||k||l)&&f(_?I():p),p):I()}}var w=!1,E=ut(c),C=ht(()=>{var p=I(),_=S(E);return w?(w=!1,_):E.v=p});return o&&S(C),i||(C.equals=Kn),function(p,_){if(arguments.length>0){const y=_?S(C):s&&o?se(p):p;if(!C.equals(y)){if(w=!0,N(E,y),b&&u!==void 0&&(u=y),pr(C))return p;Se(()=>S(C))}return p}return pr(C)?C.v:S(C)}}function Bi(n){B===null&&Dt(),We&&B.l!==null?Ui(B).m.push(n):An(()=>{const e=Se(n);if(typeof e=="function")return e})}function qi(n){B===null&&Dt(),Bi(()=>()=>Se(n))}function _o(n,e,{bubbles:t=!1,cancelable:r=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:r})}function wo(){const n=B;return n===null&&Dt(),(e,t,r)=>{var s;const i=(s=n.s.$$events)==null?void 0:s[e];if(i){const o=bt(i)?i.slice():[i],a=_o(e,t,r);for(const l of o)l.call(n.x,a);return!a.defaultPrevented}return!0}}function Co(n){B===null&&Dt(),B.l===null&&ls(),Ui(B).a.push(n)}function Ui(n){var e=n.l;return e.u??(e.u={a:[],b:[],m:[]})}const So="5";var Qr;typeof window<"u"&&((Qr=window.__svelte??(window.__svelte={})).v??(Qr.v=new Set)).add(So);gs();function Eo(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,r,i,s,o=[],a="",l=n.split("/");for(l[0]||l.shift();i=l.shift();)t=i[0],t==="*"?(o.push("wild"),a+="/(.*)"):t===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+"/?$","i")}}function br(){const n=window.location.href.indexOf("#/");let e=n>-1?window.location.href.substr(n+1):"/";const t=e.indexOf("?");let r="";return t>-1&&(r=e.substr(t+1),e=e.substr(0,t)),{location:e,querystring:r}}const $n=Oi(null,function(e){e(br());const t=()=>{e(br())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}});Li($n,n=>n.location);Li($n,n=>n.querystring);const vr=Ni(void 0);async function ko(n){if(n.length<1||n.charAt(0)!="/"&&n.indexOf("#/")!==0)throw Error("Invalid parameter location");await Ii(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(n.charAt(0)=="#"?"":"#")+n}function To(n){n?window.scrollTo(n.__svelte_spa_router_scrollX,n.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Ro(n,e){vt(e,!1);let t=nn(e,"routes",24,()=>({})),r=nn(e,"prefix",8,""),i=nn(e,"restoreScrollState",8,!1);class s{constructor(g,p){if(!p||typeof p!="function"&&(typeof p!="object"||p._sveltesparouter!==!0))throw Error("Invalid component object");if(!g||typeof g=="string"&&(g.length<1||g.charAt(0)!="/"&&g.charAt(0)!="*")||typeof g=="object"&&!(g instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:_,keys:y}=Eo(g);this.path=g,typeof p=="object"&&p._sveltesparouter===!0?(this.component=p.component,this.conditions=p.conditions||[],this.userData=p.userData,this.props=p.props||{}):(this.component=()=>Promise.resolve(p),this.conditions=[],this.props={}),this._pattern=_,this._keys=y}match(g){if(r()){if(typeof r()=="string")if(g.startsWith(r()))g=g.substr(r().length)||"/";else return null;else if(r()instanceof RegExp){const T=g.match(r());if(T&&T[0])g=g.substr(T[0].length)||"/";else return null}}const p=this._pattern.exec(g);if(p===null)return null;if(this._keys===!1)return p;const _={};let y=0;for(;y<this._keys.length;){try{_[this._keys[y]]=decodeURIComponent(p[y+1]||"")||null}catch{_[this._keys[y]]=null}y++}return _}async checkConditions(g){for(let p=0;p<this.conditions.length;p++)if(!await this.conditions[p](g))return!1;return!0}}const o=[];t()instanceof Map?t().forEach((C,g)=>{o.push(new s(g,C))}):Object.keys(t()).forEach(C=>{o.push(new s(C,t()[C]))});let a=ut(null),l=ut(null),c=ut({});const d=wo();async function f(C,g){await Ii(),d(C,g)}let u=null,h=null;i()&&(h=C=>{C.state&&(C.state.__svelte_spa_router_scrollY||C.state.__svelte_spa_router_scrollX)?u=C.state:u=null},window.addEventListener("popstate",h),Co(()=>{To(u)}));let b=null,v=null;const I=$n.subscribe(async C=>{b=C;let g=0;for(;g<o.length;){const p=o[g].match(C.location);if(!p){g++;continue}const _={route:o[g].path,location:C.location,querystring:C.querystring,userData:o[g].userData,params:p&&typeof p=="object"&&Object.keys(p).length?p:null};if(!await o[g].checkConditions(_)){N(a,null),v=null,f("conditionsFailed",_);return}f("routeLoading",Object.assign({},_));const y=o[g].component;if(v!=y){y.loading?(N(a,y.loading),v=y,N(l,y.loadingParams),N(c,{}),f("routeLoaded",Object.assign({},_,{component:S(a),name:S(a).name,params:S(l)}))):(N(a,null),v=null);const T=await y();if(C!=b)return;N(a,T&&T.default||T),v=y}p&&typeof p=="object"&&Object.keys(p).length?N(l,p):N(l,null),N(c,o[g].props),f("routeLoaded",Object.assign({},_,{component:S(a),name:S(a).name,params:S(l)})).then(()=>{vr.set(S(l))});return}N(a,null),v=null,vr.set(void 0)});qi(()=>{I(),h&&window.removeEventListener("popstate",h)}),Bs(()=>Ai(i()),()=>{history.scrollRestoration=i()?"manual":"auto"}),qs(),zn();var m=ze(),k=fe(m);{var w=C=>{var g=ze(),p=fe(g);lr(p,()=>S(a),(_,y)=>{y(_,gr({get params(){return S(l)}},()=>S(c),{$$events:{routeEvent(T){hr.call(this,e,T)}}}))}),x(C,g)},E=C=>{var g=ze(),p=fe(g);lr(p,()=>S(a),(_,y)=>{y(_,gr(()=>S(c),{$$events:{routeEvent(T){hr.call(this,e,T)}}}))}),x(C,g)};lt(k,C=>{S(l)?C(w):C(E,!1)})}x(n,m),mt()}const Io=(n,e,t)=>{ct.name=n,ct.value=e,ct.status="",setTimeout(()=>{ct.status="hidden"},t)};let ct=se({name:"",value:"",status:"hidden"});var Ao=()=>Io("Look at this notification","Actually pretty good??",5e3),Po=()=>{ko("/uplink")},Oo=te(`<div class="main svelte-cbws3c"><h1>George Eggers</h1> <p1>I be doing the programming and a bit of the music</p1> <p1>Click on this button for a really cool popup</p1> <button>Notify</button> <p1>If you're on my local network you can press this button for a file server</p1> <button>Dont click if you're not on my network please</button></div>`);function No(n,e){vt(e,!1),zn();var t=Oo(),r=M(j(t),6);r.__click=[Ao];var i=M(r,4);i.__click=[Po],x(n,t),mt()}Hn(["click"]);class J extends Error{constructor(e){var t,r,i,s;super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,J.prototype),e!==null&&typeof e=="object"&&(this.url=typeof e.url=="string"?e.url:"",this.status=typeof e.status=="number"?e.status:0,this.isAbort=!!e.isAbort,this.originalError=e.originalError,e.response!==null&&typeof e.response=="object"?this.response=e.response:e.data!==null&&typeof e.data=="object"?this.response=e.data:this.response={}),this.originalError||e instanceof J||(this.originalError=e),typeof DOMException<"u"&&e instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=(t=this.response)==null?void 0:t.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":(s=(i=(r=this.originalError)==null?void 0:r.cause)==null?void 0:i.message)!=null&&s.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong."),this.cause=this.originalError}get data(){return this.response}toJSON(){return{...this}}}const It=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Lo(n,e){const t={};if(typeof n!="string")return t;const r=Object.assign({},{}).decode||Bo;let i=0;for(;i<n.length;){const s=n.indexOf("=",i);if(s===-1)break;let o=n.indexOf(";",i);if(o===-1)o=n.length;else if(o<s){i=n.lastIndexOf(";",s-1)+1;continue}const a=n.slice(i,s).trim();if(t[a]===void 0){let l=n.slice(s+1,o).trim();l.charCodeAt(0)===34&&(l=l.slice(1,-1));try{t[a]=r(l)}catch{t[a]=l}}i=o+1}return t}function mr(n,e,t){const r=Object.assign({},t||{}),i=r.encode||qo;if(!It.test(n))throw new TypeError("argument name is invalid");const s=i(e);if(s&&!It.test(s))throw new TypeError("argument val is invalid");let o=n+"="+s;if(r.maxAge!=null){const a=r.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(a)}if(r.domain){if(!It.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain="+r.domain}if(r.path){if(!It.test(r.path))throw new TypeError("option path is invalid");o+="; Path="+r.path}if(r.expires){if(!function(l){return Object.prototype.toString.call(l)==="[object Date]"||l instanceof Date}(r.expires)||isNaN(r.expires.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():r.priority){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o}function Bo(n){return n.indexOf("%")!==-1?decodeURIComponent(n):n}function qo(n){return encodeURIComponent(n)}const Uo=typeof navigator<"u"&&navigator.product==="ReactNative"||typeof global<"u"&&global.HermesInternal;let Mi;function $e(n){if(n)try{const e=decodeURIComponent(Mi(n.split(".")[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)||{}}catch{}return{}}function ji(n,e=0){let t=$e(n);return!(Object.keys(t).length>0&&(!t.exp||t.exp-e>Date.now()/1e3))}Mi=typeof atob!="function"||Uo?n=>{let e=String(n).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,r,i=0,s=0,o="";r=e.charAt(s++);~r&&(t=i%4?64*t+r:r,i++%4)?o+=String.fromCharCode(255&t>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return o}:atob;const yr="pb_auth";class Jn{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get record(){return this.baseModel}get model(){return this.baseModel}get isValid(){return!ji(this.token)}get isSuperuser(){var t,r;let e=$e(this.token);return e.type=="auth"&&(((t=this.record)==null?void 0:t.collectionName)=="_superusers"||!((r=this.record)!=null&&r.collectionName)&&e.collectionId=="pbc_3142635823")}get isAdmin(){return console.warn("Please replace pb.authStore.isAdmin with pb.authStore.isSuperuser OR simply check the value of pb.authStore.record?.collectionName"),this.isSuperuser}get isAuthRecord(){return console.warn("Please replace pb.authStore.isAuthRecord with !pb.authStore.isSuperuser OR simply check the value of pb.authStore.record?.collectionName"),$e(this.token).type=="auth"&&!this.isSuperuser}save(e,t){this.baseToken=e||"",this.baseModel=t||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(e,t=yr){const r=Lo(e||"")[t]||"";let i={};try{i=JSON.parse(r),(typeof i===null||typeof i!="object"||Array.isArray(i))&&(i={})}catch{}this.save(i.token||"",i.record||i.model||null)}exportToCookie(e,t=yr){var l,c;const r={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},i=$e(this.token);r.expires=i!=null&&i.exp?new Date(1e3*i.exp):new Date("1970-01-01"),e=Object.assign({},r,e);const s={token:this.token,record:this.record?JSON.parse(JSON.stringify(this.record)):null};let o=mr(t,JSON.stringify(s),e);const a=typeof Blob<"u"?new Blob([o]).size:o.length;if(s.record&&a>4096){s.record={id:(l=s.record)==null?void 0:l.id,email:(c=s.record)==null?void 0:c.email};const d=["collectionId","collectionName","verified"];for(const f in this.record)d.includes(f)&&(s.record[f]=this.record[f]);o=mr(t,JSON.stringify(s),e)}return o}onChange(e,t=!1){return this._onChangeCallbacks.push(e),t&&e(this.token,this.record),()=>{for(let r=this._onChangeCallbacks.length-1;r>=0;r--)if(this._onChangeCallbacks[r]==e)return delete this._onChangeCallbacks[r],void this._onChangeCallbacks.splice(r,1)}}triggerChange(){for(const e of this._onChangeCallbacks)e&&e(this.token,this.record)}}class Mo extends Jn{constructor(e="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=e,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get record(){const e=this._storageGet(this.storageKey)||{};return e.record||e.model||null}get model(){return this.record}save(e,t){this._storageSet(this.storageKey,{token:e,record:t}),super.save(e,t)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(e){if(typeof window<"u"&&(window!=null&&window.localStorage)){const t=window.localStorage.getItem(e)||"";try{return JSON.parse(t)}catch{return t}}return this.storageFallback[e]}_storageSet(e,t){if(typeof window<"u"&&(window!=null&&window.localStorage)){let r=t;typeof t!="string"&&(r=JSON.stringify(t)),window.localStorage.setItem(e,r)}else this.storageFallback[e]=t}_storageRemove(e){var t;typeof window<"u"&&(window!=null&&window.localStorage)&&((t=window.localStorage)==null||t.removeItem(e)),delete this.storageFallback[e]}_bindStorageEvent(){typeof window<"u"&&(window!=null&&window.localStorage)&&window.addEventListener&&window.addEventListener("storage",e=>{if(e.key!=this.storageKey)return;const t=this._storageGet(this.storageKey)||{};super.save(t.token||"",t.record||t.model||null)})}}class ge{constructor(e){this.client=e}}class jo extends ge{async getAll(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/settings",e)}async update(e,t){return t=Object.assign({method:"PATCH",body:e},t),this.client.send("/api/settings",t)}async testS3(e="storage",t){return t=Object.assign({method:"POST",body:{filesystem:e}},t),this.client.send("/api/settings/test/s3",t).then(()=>!0)}async testEmail(e,t,r,i){return i=Object.assign({method:"POST",body:{email:t,template:r,collection:e}},i),this.client.send("/api/settings/test/email",i).then(()=>!0)}async generateAppleClientSecret(e,t,r,i,s,o){return o=Object.assign({method:"POST",body:{clientId:e,teamId:t,keyId:r,privateKey:i,duration:s}},o),this.client.send("/api/settings/apple/generate-client-secret",o)}}const Do=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function Gn(n){if(n){n.query=n.query||{};for(let e in n)Do.includes(e)||(n.query[e]=n[e],delete n[e])}}function Di(n){const e=[];for(const t in n){const r=encodeURIComponent(t),i=Array.isArray(n[t])?n[t]:[n[t]];for(let s of i)s=Fo(s),s!==null&&e.push(r+"="+s)}return e.join("&")}function Fo(n){return n==null?null:n instanceof Date?encodeURIComponent(n.toISOString().replace("T"," ")):encodeURIComponent(typeof n=="object"?JSON.stringify(n):n)}class Fi extends ge{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(e,t,r){var o;if(!e)throw new Error("topic must be set.");let i=e;if(r){Gn(r=Object.assign({},r));const a="options="+encodeURIComponent(JSON.stringify({query:r.query,headers:r.headers}));i+=(i.includes("?")?"&":"?")+a}const s=function(a){const l=a;let c;try{c=JSON.parse(l==null?void 0:l.data)}catch{}t(c||{})};return this.subscriptions[i]||(this.subscriptions[i]=[]),this.subscriptions[i].push(s),this.isConnected?this.subscriptions[i].length===1?await this.submitSubscriptions():(o=this.eventSource)==null||o.addEventListener(i,s):await this.connect(),async()=>this.unsubscribeByTopicAndListener(e,s)}async unsubscribe(e){var r;let t=!1;if(e){const i=this.getSubscriptionsByTopic(e);for(let s in i)if(this.hasSubscriptionListeners(s)){for(let o of this.subscriptions[s])(r=this.eventSource)==null||r.removeEventListener(s,o);delete this.subscriptions[s],t||(t=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?t&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(e){var r;let t=!1;for(let i in this.subscriptions)if((i+"?").startsWith(e)){t=!0;for(let s of this.subscriptions[i])(r=this.eventSource)==null||r.removeEventListener(i,s);delete this.subscriptions[i]}t&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(e,t){var s;let r=!1;const i=this.getSubscriptionsByTopic(e);for(let o in i){if(!Array.isArray(this.subscriptions[o])||!this.subscriptions[o].length)continue;let a=!1;for(let l=this.subscriptions[o].length-1;l>=0;l--)this.subscriptions[o][l]===t&&(a=!0,delete this.subscriptions[o][l],this.subscriptions[o].splice(l,1),(s=this.eventSource)==null||s.removeEventListener(o,t));a&&(this.subscriptions[o].length||delete this.subscriptions[o],r||this.hasSubscriptionListeners(o)||(r=!0))}this.hasSubscriptionListeners()?r&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(e){var t,r;if(this.subscriptions=this.subscriptions||{},e)return!!((t=this.subscriptions[e])!=null&&t.length);for(let i in this.subscriptions)if((r=this.subscriptions[i])!=null&&r.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch(e=>{if(!(e!=null&&e.isAbort))throw e})}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(e){const t={};e=e.includes("?")?e:e+"?";for(let r in this.subscriptions)(r+"?").startsWith(e)&&(t[r]=this.subscriptions[r]);return t}getNonEmptySubscriptionKeys(){const e=[];for(let t in this.subscriptions)this.subscriptions[t].length&&e.push(t);return e}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.addEventListener(e,t)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.removeEventListener(e,t)}async connect(){if(!(this.reconnectAttempts>0))return new Promise((e,t)=>{this.pendingConnects.push({resolve:e,reject:t}),this.pendingConnects.length>1||this.initConnect()})}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildURL("/api/realtime")),this.eventSource.onerror=e=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",e=>{const t=e;this.clientId=t==null?void 0:t.lastEventId,this.submitSubscriptions().then(async()=>{let r=3;for(;this.hasUnsentSubscriptions()&&r>0;)r--,await this.submitSubscriptions()}).then(()=>{for(let i of this.pendingConnects)i.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const r=this.getSubscriptionsByTopic("PB_CONNECT");for(let i in r)for(let s of r[i])s(e)}).catch(r=>{this.clientId="",this.connectErrorHandler(r)})})}hasUnsentSubscriptions(){const e=this.getNonEmptySubscriptionKeys();if(e.length!=this.lastSentSubscriptions.length)return!0;for(const t of e)if(!this.lastSentSubscriptions.includes(t))return!0;return!1}connectErrorHandler(e){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let r of this.pendingConnects)r.reject(new J(e));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const t=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(()=>{this.initConnect()},t)}disconnect(e=!1){var t;if(this.clientId&&this.onDisconnect&&this.onDisconnect(Object.keys(this.subscriptions)),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),(t=this.eventSource)==null||t.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(let r of this.pendingConnects)r.resolve();this.pendingConnects=[]}}}class xi extends ge{decode(e){return e}async getFullList(e,t){if(typeof e=="number")return this._getFullList(e,t);let r=500;return(t=Object.assign({},e,t)).batch&&(r=t.batch,delete t.batch),this._getFullList(r,t)}async getList(e=1,t=30,r){return(r=Object.assign({method:"GET"},r)).query=Object.assign({page:e,perPage:t},r.query),this.client.send(this.baseCrudPath,r).then(i=>{var s;return i.items=((s=i.items)==null?void 0:s.map(o=>this.decode(o)))||[],i})}async getFirstListItem(e,t){return(t=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+e},t)).query=Object.assign({filter:e,skipTotal:1},t.query),this.getList(1,1,t).then(r=>{var i;if(!((i=r==null?void 0:r.items)!=null&&i.length))throw new J({status:404,response:{code:404,message:"The requested resource wasn't found.",data:{}}});return r.items[0]})}async getOne(e,t){if(!e)throw new J({url:this.client.buildURL(this.baseCrudPath+"/"),status:404,response:{code:404,message:"Missing required record id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(r=>this.decode(r))}async create(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send(this.baseCrudPath,t).then(r=>this.decode(r))}async update(e,t,r){return r=Object.assign({method:"PATCH",body:t},r),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),r).then(i=>this.decode(i))}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(()=>!0)}_getFullList(e=500,t){(t=t||{}).query=Object.assign({skipTotal:1},t.query);let r=[],i=async s=>this.getList(s,e||500,t).then(o=>{const a=o.items;return r=r.concat(a),a.length==o.perPage?i(s+1):r});return i(1)}}function be(n,e,t,r){const i=r!==void 0;return i||t!==void 0?i?(console.warn(n),e.body=Object.assign({},e.body,t),e.query=Object.assign({},e.query,r),e):Object.assign(e,t):e}function rn(n){var e;(e=n._resetAutoRefresh)==null||e.call(n)}class xo extends xi{constructor(e,t){super(e),this.collectionIdOrName=t}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}get isSuperusers(){return this.collectionIdOrName=="_superusers"||this.collectionIdOrName=="_pbc_2773867675"}async subscribe(e,t,r){if(!e)throw new Error("Missing topic.");if(!t)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,t,r)}async unsubscribe(e){return e?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(e,t){if(typeof e=="number")return super.getFullList(e,t);const r=Object.assign({},e,t);return super.getFullList(r)}async getList(e=1,t=30,r){return super.getList(e,t,r)}async getFirstListItem(e,t){return super.getFirstListItem(e,t)}async getOne(e,t){return super.getOne(e,t)}async create(e,t){return super.create(e,t)}async update(e,t,r){return super.update(e,t,r).then(i=>{var s,o,a;if(((s=this.client.authStore.record)==null?void 0:s.id)===(i==null?void 0:i.id)&&(((o=this.client.authStore.record)==null?void 0:o.collectionId)===this.collectionIdOrName||((a=this.client.authStore.record)==null?void 0:a.collectionName)===this.collectionIdOrName)){let l=Object.assign({},this.client.authStore.record.expand),c=Object.assign({},this.client.authStore.record,i);l&&(c.expand=Object.assign(l,i.expand)),this.client.authStore.save(this.client.authStore.token,c)}return i})}async delete(e,t){return super.delete(e,t).then(r=>{var i,s,o;return!r||((i=this.client.authStore.record)==null?void 0:i.id)!==e||((s=this.client.authStore.record)==null?void 0:s.collectionId)!==this.collectionIdOrName&&((o=this.client.authStore.record)==null?void 0:o.collectionName)!==this.collectionIdOrName||this.client.authStore.clear(),r})}authResponse(e){const t=this.decode((e==null?void 0:e.record)||{});return this.client.authStore.save(e==null?void 0:e.token,t),Object.assign({},e,{token:(e==null?void 0:e.token)||"",record:t})}async listAuthMethods(e){return e=Object.assign({method:"GET",fields:"mfa,otp,password,oauth2"},e),this.client.send(this.baseCollectionPath+"/auth-methods",e)}async authWithPassword(e,t,r){let i;r=Object.assign({method:"POST",body:{identity:e,password:t}},r),this.isSuperusers&&(i=r.autoRefreshThreshold,delete r.autoRefreshThreshold,r.autoRefresh||rn(this.client));let s=await this.client.send(this.baseCollectionPath+"/auth-with-password",r);return s=this.authResponse(s),i&&this.isSuperusers&&function(a,l,c,d){rn(a);const f=a.beforeSend,u=a.authStore.record,h=a.authStore.onChange((b,v)=>{(!b||(v==null?void 0:v.id)!=(u==null?void 0:u.id)||(v!=null&&v.collectionId||u!=null&&u.collectionId)&&(v==null?void 0:v.collectionId)!=(u==null?void 0:u.collectionId))&&rn(a)});a._resetAutoRefresh=function(){h(),a.beforeSend=f,delete a._resetAutoRefresh},a.beforeSend=async(b,v)=>{var w;const I=a.authStore.token;if((w=v.query)!=null&&w.autoRefresh)return f?f(b,v):{url:b,sendOptions:v};let m=a.authStore.isValid;if(m&&ji(a.authStore.token,l))try{await c()}catch{m=!1}m||await d();const k=v.headers||{};for(let E in k)if(E.toLowerCase()=="authorization"&&I==k[E]&&a.authStore.token){k[E]=a.authStore.token;break}return v.headers=k,f?f(b,v):{url:b,sendOptions:v}}}(this.client,i,()=>this.authRefresh({autoRefresh:!0}),()=>this.authWithPassword(e,t,Object.assign({autoRefresh:!0},r))),s}async authWithOAuth2Code(e,t,r,i,s,o,a){let l={method:"POST",body:{provider:e,code:t,codeVerifier:r,redirectURL:i,createData:s}};return l=be("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectURL, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectURL, createData?, options?).",l,o,a),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",l).then(c=>this.authResponse(c))}authWithOAuth2(...e){if(e.length>1||typeof(e==null?void 0:e[0])=="string")return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code((e==null?void 0:e[0])||"",(e==null?void 0:e[1])||"",(e==null?void 0:e[2])||"",(e==null?void 0:e[3])||"",(e==null?void 0:e[4])||{},(e==null?void 0:e[5])||{},(e==null?void 0:e[6])||{});const t=(e==null?void 0:e[0])||{};let r=null;t.urlCallback||(r=_r(void 0));const i=new Fi(this.client);function s(){r==null||r.close(),i.unsubscribe()}const o={},a=t.requestKey;return a&&(o.requestKey=a),this.listAuthMethods(o).then(l=>{var u;const c=l.oauth2.providers.find(h=>h.name===t.provider);if(!c)throw new J(new Error(`Missing or invalid provider "${t.provider}".`));const d=this.client.buildURL("/api/oauth2-redirect"),f=a?(u=this.client.cancelControllers)==null?void 0:u[a]:void 0;return f&&(f.signal.onabort=()=>{s()}),new Promise(async(h,b)=>{var v;try{await i.subscribe("@oauth2",async w=>{var C;const E=i.clientId;try{if(!w.state||E!==w.state)throw new Error("State parameters don't match.");if(w.error||!w.code)throw new Error("OAuth2 redirect error or missing code: "+w.error);const g=Object.assign({},t);delete g.provider,delete g.scopes,delete g.createData,delete g.urlCallback,(C=f==null?void 0:f.signal)!=null&&C.onabort&&(f.signal.onabort=null);const p=await this.authWithOAuth2Code(c.name,w.code,c.codeVerifier,d,t.createData,g);h(p)}catch(g){b(new J(g))}s()});const I={state:i.clientId};(v=t.scopes)!=null&&v.length&&(I.scope=t.scopes.join(" "));const m=this._replaceQueryParams(c.authURL+d,I);await(t.urlCallback||function(w){r?r.location.href=w:r=_r(w)})(m)}catch(I){s(),b(new J(I))}})}).catch(l=>{throw s(),l})}async authRefresh(e,t){let r={method:"POST"};return r=be("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",r,e,t),this.client.send(this.baseCollectionPath+"/auth-refresh",r).then(i=>this.authResponse(i))}async requestPasswordReset(e,t,r){let i={method:"POST",body:{email:e}};return i=be("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",i,t,r),this.client.send(this.baseCollectionPath+"/request-password-reset",i).then(()=>!0)}async confirmPasswordReset(e,t,r,i,s){let o={method:"POST",body:{token:e,password:t,passwordConfirm:r}};return o=be("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",o,i,s),this.client.send(this.baseCollectionPath+"/confirm-password-reset",o).then(()=>!0)}async requestVerification(e,t,r){let i={method:"POST",body:{email:e}};return i=be("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",i,t,r),this.client.send(this.baseCollectionPath+"/request-verification",i).then(()=>!0)}async confirmVerification(e,t,r){let i={method:"POST",body:{token:e}};return i=be("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",i,t,r),this.client.send(this.baseCollectionPath+"/confirm-verification",i).then(()=>{const s=$e(e),o=this.client.authStore.record;return o&&!o.verified&&o.id===s.id&&o.collectionId===s.collectionId&&(o.verified=!0,this.client.authStore.save(this.client.authStore.token,o)),!0})}async requestEmailChange(e,t,r){let i={method:"POST",body:{newEmail:e}};return i=be("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",i,t,r),this.client.send(this.baseCollectionPath+"/request-email-change",i).then(()=>!0)}async confirmEmailChange(e,t,r,i){let s={method:"POST",body:{token:e,password:t}};return s=be("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",s,r,i),this.client.send(this.baseCollectionPath+"/confirm-email-change",s).then(()=>{const o=$e(e),a=this.client.authStore.record;return a&&a.id===o.id&&a.collectionId===o.collectionId&&this.client.authStore.clear(),!0})}async listExternalAuths(e,t){return this.client.collection("_externalAuths").getFullList(Object.assign({},t,{filter:this.client.filter("recordRef = {:id}",{id:e})}))}async unlinkExternalAuth(e,t,r){const i=await this.client.collection("_externalAuths").getFirstListItem(this.client.filter("recordRef = {:recordId} && provider = {:provider}",{recordId:e,provider:t}));return this.client.collection("_externalAuths").delete(i.id,r).then(()=>!0)}async requestOTP(e,t){return t=Object.assign({method:"POST",body:{email:e}},t),this.client.send(this.baseCollectionPath+"/request-otp",t)}async authWithOTP(e,t,r){return r=Object.assign({method:"POST",body:{otpId:e,password:t}},r),this.client.send(this.baseCollectionPath+"/auth-with-otp",r).then(i=>this.authResponse(i))}async impersonate(e,t,r){(r=Object.assign({method:"POST",body:{duration:t}},r)).headers=r.headers||{},r.headers.Authorization||(r.headers.Authorization=this.client.authStore.token);const i=new Ki(this.client.baseURL,new Jn,this.client.lang),s=await i.send(this.baseCollectionPath+"/impersonate/"+encodeURIComponent(e),r);return i.authStore.save(s==null?void 0:s.token,this.decode((s==null?void 0:s.record)||{})),i}_replaceQueryParams(e,t={}){let r=e,i="";e.indexOf("?")>=0&&(r=e.substring(0,e.indexOf("?")),i=e.substring(e.indexOf("?")+1));const s={},o=i.split("&");for(const a of o){if(a=="")continue;const l=a.split("=");s[decodeURIComponent(l[0].replace(/\+/g," "))]=decodeURIComponent((l[1]||"").replace(/\+/g," "))}for(let a in t)t.hasOwnProperty(a)&&(t[a]==null?delete s[a]:s[a]=t[a]);i="";for(let a in s)s.hasOwnProperty(a)&&(i!=""&&(i+="&"),i+=encodeURIComponent(a.replace(/%20/g,"+"))+"="+encodeURIComponent(s[a].replace(/%20/g,"+")));return i!=""?r+"?"+i:r}}function _r(n){if(typeof window>"u"||!(window!=null&&window.open))throw new J(new Error("Not in a browser context - please pass a custom urlCallback function."));let e=1024,t=768,r=window.innerWidth,i=window.innerHeight;e=e>r?r:e,t=t>i?i:t;let s=r/2-e/2,o=i/2-t/2;return window.open(n,"popup_window","width="+e+",height="+t+",top="+o+",left="+s+",resizable,menubar=no")}class Ko extends xi{get baseCrudPath(){return"/api/collections"}async import(e,t=!1,r){return r=Object.assign({method:"PUT",body:{collections:e,deleteMissing:t}},r),this.client.send(this.baseCrudPath+"/import",r).then(()=>!0)}async getScaffolds(e){return e=Object.assign({method:"GET"},e),this.client.send(this.baseCrudPath+"/meta/scaffolds",e)}async truncate(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/truncate",t).then(()=>!0)}}class Vo extends ge{async getList(e=1,t=30,r){return(r=Object.assign({method:"GET"},r)).query=Object.assign({page:e,perPage:t},r.query),this.client.send("/api/logs",r)}async getOne(e,t){if(!e)throw new J({url:this.client.buildURL("/api/logs/"),status:404,response:{code:404,message:"Missing required log id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/"+encodeURIComponent(e),t)}async getStats(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/logs/stats",e)}}class Ho extends ge{async check(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/health",e)}}class zo extends ge{getUrl(e,t,r={}){return console.warn("Please replace pb.files.getUrl() with pb.files.getURL()"),this.getURL(e,t,r)}getURL(e,t,r={}){if(!t||!(e!=null&&e.id)||!(e!=null&&e.collectionId)&&!(e!=null&&e.collectionName))return"";const i=[];i.push("api"),i.push("files"),i.push(encodeURIComponent(e.collectionId||e.collectionName)),i.push(encodeURIComponent(e.id)),i.push(encodeURIComponent(t));let s=this.client.buildURL(i.join("/"));if(Object.keys(r).length){r.download===!1&&delete r.download;const o=new URLSearchParams(r);s+=(s.includes("?")?"&":"?")+o}return s}async getToken(e){return e=Object.assign({method:"POST"},e),this.client.send("/api/files/token",e).then(t=>(t==null?void 0:t.token)||"")}}class $o extends ge{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/backups",e)}async create(e,t){return t=Object.assign({method:"POST",body:{name:e}},t),this.client.send("/api/backups",t).then(()=>!0)}async upload(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send("/api/backups/upload",t).then(()=>!0)}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}`,t).then(()=>!0)}async restore(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}/restore`,t).then(()=>!0)}getDownloadUrl(e,t){return console.warn("Please replace pb.backups.getDownloadUrl() with pb.backups.getDownloadURL()"),this.getDownloadURL(e,t)}getDownloadURL(e,t){return this.client.buildURL(`/api/backups/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`)}}class Jo extends ge{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/crons",e)}async run(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/crons/${encodeURIComponent(e)}`,t).then(()=>!0)}}function qn(n){return typeof Blob<"u"&&n instanceof Blob||typeof File<"u"&&n instanceof File||n!==null&&typeof n=="object"&&n.uri&&(typeof navigator<"u"&&navigator.product==="ReactNative"||typeof global<"u"&&global.HermesInternal)}function Un(n){return n&&(n.constructor.name==="FormData"||typeof FormData<"u"&&n instanceof FormData)}function wr(n){for(const e in n){const t=Array.isArray(n[e])?n[e]:[n[e]];for(const r of t)if(qn(r))return!0}return!1}const Go=/^[\-\.\d]+$/;function Cr(n){if(typeof n!="string")return n;if(n=="true")return!0;if(n=="false")return!1;if((n[0]==="-"||n[0]>="0"&&n[0]<="9")&&Go.test(n)){let e=+n;if(""+e===n)return e}return n}class Yo extends ge{constructor(){super(...arguments),this.requests=[],this.subs={}}collection(e){return this.subs[e]||(this.subs[e]=new Wo(this.requests,e)),this.subs[e]}async send(e){const t=new FormData,r=[];for(let i=0;i<this.requests.length;i++){const s=this.requests[i];if(r.push({method:s.method,url:s.url,headers:s.headers,body:s.json}),s.files)for(let o in s.files){const a=s.files[o]||[];for(let l of a)t.append("requests."+i+"."+o,l)}}return t.append("@jsonPayload",JSON.stringify({requests:r})),e=Object.assign({method:"POST",body:t},e),this.client.send("/api/batch",e)}}class Wo{constructor(e,t){this.requests=[],this.requests=e,this.collectionIdOrName=t}upsert(e,t){t=Object.assign({body:e||{}},t);const r={method:"PUT",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records"};this.prepareRequest(r,t),this.requests.push(r)}create(e,t){t=Object.assign({body:e||{}},t);const r={method:"POST",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records"};this.prepareRequest(r,t),this.requests.push(r)}update(e,t,r){r=Object.assign({body:t||{}},r);const i={method:"PATCH",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records/"+encodeURIComponent(e)};this.prepareRequest(i,r),this.requests.push(i)}delete(e,t){t=Object.assign({},t);const r={method:"DELETE",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records/"+encodeURIComponent(e)};this.prepareRequest(r,t),this.requests.push(r)}prepareRequest(e,t){if(Gn(t),e.headers=t.headers,e.json={},e.files={},t.query!==void 0){const i=Di(t.query);i&&(e.url+=(e.url.includes("?")?"&":"?")+i)}let r=t.body;Un(r)&&(r=function(s){let o={};return s.forEach((a,l)=>{if(l==="@jsonPayload"&&typeof a=="string")try{let c=JSON.parse(a);Object.assign(o,c)}catch(c){console.warn("@jsonPayload error:",c)}else o[l]!==void 0?(Array.isArray(o[l])||(o[l]=[o[l]]),o[l].push(Cr(a))):o[l]=Cr(a)}),o}(r));for(const i in r){const s=r[i];if(qn(s))e.files[i]=e.files[i]||[],e.files[i].push(s);else if(Array.isArray(s)){const o=[],a=[];for(const l of s)qn(l)?o.push(l):a.push(l);if(o.length>0&&o.length==s.length){e.files[i]=e.files[i]||[];for(let l of o)e.files[i].push(l)}else if(e.json[i]=a,o.length>0){let l=i;i.startsWith("+")||i.endsWith("+")||(l+="+"),e.files[l]=e.files[l]||[];for(let c of o)e.files[l].push(c)}}else e.json[i]=s}}}class Ki{get baseUrl(){return this.baseURL}set baseUrl(e){this.baseURL=e}constructor(e="/",t,r="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseURL=e,this.lang=r,t?this.authStore=t:typeof window<"u"&&window.Deno?this.authStore=new Jn:this.authStore=new Mo,this.collections=new Ko(this),this.files=new zo(this),this.logs=new Vo(this),this.settings=new jo(this),this.realtime=new Fi(this),this.health=new Ho(this),this.backups=new $o(this),this.crons=new Jo(this)}get admins(){return this.collection("_superusers")}createBatch(){return new Yo(this)}collection(e){return this.recordServices[e]||(this.recordServices[e]=new xo(this,e)),this.recordServices[e]}autoCancellation(e){return this.enableAutoCancellation=!!e,this}cancelRequest(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this}cancelAllRequests(){for(let e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this}filter(e,t){if(!t)return e;for(let r in t){let i=t[r];switch(typeof i){case"boolean":case"number":i=""+i;break;case"string":i="'"+i.replace(/'/g,"\\'")+"'";break;default:i=i===null?"null":i instanceof Date?"'"+i.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(i).replace(/'/g,"\\'")+"'"}e=e.replaceAll("{:"+r+"}",i)}return e}getFileUrl(e,t,r={}){return console.warn("Please replace pb.getFileUrl() with pb.files.getURL()"),this.files.getURL(e,t,r)}buildUrl(e){return console.warn("Please replace pb.buildUrl() with pb.buildURL()"),this.buildURL(e)}buildURL(e){var r;let t=this.baseURL;return typeof window>"u"||!window.location||t.startsWith("https://")||t.startsWith("http://")||(t=(r=window.location.origin)!=null&&r.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseURL.startsWith("/")||(t+=window.location.pathname||"/",t+=t.endsWith("/")?"":"/"),t+=this.baseURL),e&&(t+=t.endsWith("/")?"":"/",t+=e.startsWith("/")?e.substring(1):e),t}async send(e,t){t=this.initSendOptions(e,t);let r=this.buildURL(e);if(this.beforeSend){const i=Object.assign({},await this.beforeSend(r,t));i.url!==void 0||i.options!==void 0?(r=i.url||r,t=i.options||t):Object.keys(i).length&&(t=i,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(t.query!==void 0){const i=Di(t.query);i&&(r+=(r.includes("?")?"&":"?")+i),delete t.query}return this.getHeader(t.headers,"Content-Type")=="application/json"&&t.body&&typeof t.body!="string"&&(t.body=JSON.stringify(t.body)),(t.fetch||fetch)(r,t).then(async i=>{let s={};try{s=await i.json()}catch{}if(this.afterSend&&(s=await this.afterSend(i,s,t)),i.status>=400)throw new J({url:i.url,status:i.status,data:s});return s}).catch(i=>{throw new J(i)})}initSendOptions(e,t){if((t=Object.assign({method:"GET"},t)).body=function(i){if(typeof FormData>"u"||i===void 0||typeof i!="object"||i===null||Un(i)||!wr(i))return i;const s=new FormData;for(const o in i){const a=i[o];if(a!==void 0)if(typeof a!="object"||wr({data:a})){const l=Array.isArray(a)?a:[a];for(let c of l)s.append(o,c)}else{let l={};l[o]=a,s.append("@jsonPayload",JSON.stringify(l))}}return s}(t.body),Gn(t),t.query=Object.assign({},t.params,t.query),t.requestKey===void 0&&(t.$autoCancel===!1||t.query.$autoCancel===!1?t.requestKey=null:(t.$cancelKey||t.query.$cancelKey)&&(t.requestKey=t.$cancelKey||t.query.$cancelKey)),delete t.$autoCancel,delete t.query.$autoCancel,delete t.$cancelKey,delete t.query.$cancelKey,this.getHeader(t.headers,"Content-Type")!==null||Un(t.body)||(t.headers=Object.assign({},t.headers,{"Content-Type":"application/json"})),this.getHeader(t.headers,"Accept-Language")===null&&(t.headers=Object.assign({},t.headers,{"Accept-Language":this.lang})),this.authStore.token&&this.getHeader(t.headers,"Authorization")===null&&(t.headers=Object.assign({},t.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&t.requestKey!==null){const r=t.requestKey||(t.method||"GET")+e;delete t.requestKey,this.cancelRequest(r);const i=new AbortController;this.cancelControllers[r]=i,t.signal=i.signal}return t}getHeader(e,t){e=e||{},t=t.toLowerCase();for(let r in e)if(r.toLowerCase()==t)return e[r];return null}}let Fe=se(new Ki("http://73.173.154.154:8090"));function Qo(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var xe={},sn,Sr;function Xo(){return Sr||(Sr=1,sn=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),sn}var on={},ve={},Er;function Ne(){if(Er)return ve;Er=1;let n;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return ve.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},ve.getSymbolTotalCodewords=function(r){return e[r]},ve.getBCHDigit=function(t){let r=0;for(;t!==0;)r++,t>>>=1;return r},ve.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');n=r},ve.isKanjiModeEnabled=function(){return typeof n<"u"},ve.toSJIS=function(r){return n(r)},ve}var an={},kr;function Yn(){return kr||(kr=1,function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,i){if(n.isValid(r))return r;try{return e(r)}catch{return i}}}(an)),an}var ln,Tr;function Zo(){if(Tr)return ln;Tr=1;function n(){this.buffer=[],this.length=0}return n.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},ln=n,ln}var cn,Rr;function ea(){if(Rr)return cn;Rr=1;function n(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return n.prototype.set=function(e,t,r,i){const s=e*this.size+t;this.data[s]=r,i&&(this.reservedBit[s]=!0)},n.prototype.get=function(e,t){return this.data[e*this.size+t]},n.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},n.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},cn=n,cn}var un={},Ir;function ta(){return Ir||(Ir=1,function(n){const e=Ne().getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},n.getPositions=function(r){const i=[],s=n.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||i.push([s[a],s[l]]);return i}}(un)),un}var fn={},Ar;function na(){if(Ar)return fn;Ar=1;const n=Ne().getSymbolSize,e=7;return fn.getPositions=function(r){const i=n(r);return[[0,0],[i-e,0],[0,i-e]]},fn}var dn={},Pr;function ra(){return Pr||(Pr=1,function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},n.from=function(i){return n.isValid(i)?parseInt(i,10):void 0},n.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,l=0,c=null,d=null;for(let f=0;f<s;f++){a=l=0,c=d=null;for(let u=0;u<s;u++){let h=i.get(f,u);h===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=h,a=1),h=i.get(u,f),h===d?l++:(l>=5&&(o+=e.N1+(l-5)),d=h,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},n.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},n.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,l=0;for(let c=0;c<s;c++){a=l=0;for(let d=0;d<s;d++)a=a<<1&2047|i.get(c,d),d>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|i.get(d,c),d>=10&&(l===1488||l===93)&&o++}return o*e.N3},n.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let l=0;l<o;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function t(r,i,s){switch(r){case n.Patterns.PATTERN000:return(i+s)%2===0;case n.Patterns.PATTERN001:return i%2===0;case n.Patterns.PATTERN010:return s%3===0;case n.Patterns.PATTERN011:return(i+s)%3===0;case n.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case n.Patterns.PATTERN101:return i*s%2+i*s%3===0;case n.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case n.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)s.isReserved(l,a)||s.xor(l,a,t(i,l,a))},n.getBestMask=function(i,s){const o=Object.keys(n.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){s(c),n.applyMask(c,i);const d=n.getPenaltyN1(i)+n.getPenaltyN2(i)+n.getPenaltyN3(i)+n.getPenaltyN4(i);n.applyMask(c,i),d<l&&(l=d,a=c)}return a}}(dn)),dn}var At={},Or;function Vi(){if(Or)return At;Or=1;const n=Yn(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return At.getBlocksCount=function(i,s){switch(s){case n.L:return e[(i-1)*4+0];case n.M:return e[(i-1)*4+1];case n.Q:return e[(i-1)*4+2];case n.H:return e[(i-1)*4+3];default:return}},At.getTotalCodewordsCount=function(i,s){switch(s){case n.L:return t[(i-1)*4+0];case n.M:return t[(i-1)*4+1];case n.Q:return t[(i-1)*4+2];case n.H:return t[(i-1)*4+3];default:return}},At}var hn={},ot={},Nr;function ia(){if(Nr)return ot;Nr=1;const n=new Uint8Array(512),e=new Uint8Array(256);return function(){let r=1;for(let i=0;i<255;i++)n[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)n[i]=n[i-255]}(),ot.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},ot.exp=function(r){return n[r]},ot.mul=function(r,i){return r===0||i===0?0:n[e[r]+e[i]]},ot}var Lr;function sa(){return Lr||(Lr=1,function(n){const e=ia();n.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},n.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},n.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=n.mul(i,new Uint8Array([1,e.exp(s)]));return i}}(hn)),hn}var gn,Br;function oa(){if(Br)return gn;Br=1;const n=sa();function e(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=n.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=n.mod(i,this.genPoly),o=this.degree-s.length;if(o>0){const a=new Uint8Array(this.degree);return a.set(s,o),a}return s},gn=e,gn}var pn={},bn={},vn={},qr;function Hi(){return qr||(qr=1,vn.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),vn}var ie={},Ur;function zi(){if(Ur)return ie;Ur=1;const n="[0-9]+",e="[A-Z $%*+\\-./:]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+`)(?:.|[\r
]))+`;ie.KANJI=new RegExp(t,"g"),ie.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ie.BYTE=new RegExp(r,"g"),ie.NUMERIC=new RegExp(n,"g"),ie.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+t+"$"),s=new RegExp("^"+n+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return ie.testKanji=function(l){return i.test(l)},ie.testNumeric=function(l){return s.test(l)},ie.testAlphanumeric=function(l){return o.test(l)},ie}var Mr;function Le(){return Mr||(Mr=1,function(n){const e=Hi(),t=zi();n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},n.getBestModeForData=function(s){return t.testNumeric(s)?n.NUMERIC:t.testAlphanumeric(s)?n.ALPHANUMERIC:t.testKanji(s)?n.KANJI:n.BYTE},n.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},n.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+i)}}n.from=function(s,o){if(n.isValid(s))return s;try{return r(s)}catch{return o}}}(bn)),bn}var jr;function aa(){return jr||(jr=1,function(n){const e=Ne(),t=Vi(),r=Yn(),i=Le(),s=Hi(),o=7973,a=e.getBCHDigit(o);function l(u,h,b){for(let v=1;v<=40;v++)if(h<=n.getCapacity(v,b,u))return v}function c(u,h){return i.getCharCountIndicator(u,h)+4}function d(u,h){let b=0;return u.forEach(function(v){const I=c(v.mode,h);b+=I+v.getBitsLength()}),b}function f(u,h){for(let b=1;b<=40;b++)if(d(u,b)<=n.getCapacity(b,h,i.MIXED))return b}n.from=function(h,b){return s.isValid(h)?parseInt(h,10):b},n.getCapacity=function(h,b,v){if(!s.isValid(h))throw new Error("Invalid QR Code version");typeof v>"u"&&(v=i.BYTE);const I=e.getSymbolTotalCodewords(h),m=t.getTotalCodewordsCount(h,b),k=(I-m)*8;if(v===i.MIXED)return k;const w=k-c(v,h);switch(v){case i.NUMERIC:return Math.floor(w/10*3);case i.ALPHANUMERIC:return Math.floor(w/11*2);case i.KANJI:return Math.floor(w/13);case i.BYTE:default:return Math.floor(w/8)}},n.getBestVersionForData=function(h,b){let v;const I=r.from(b,r.M);if(Array.isArray(h)){if(h.length>1)return f(h,I);if(h.length===0)return 1;v=h[0]}else v=h;return l(v.mode,v.getLength(),I)},n.getEncodedBits=function(h){if(!s.isValid(h)||h<7)throw new Error("Invalid QR Code version");let b=h<<12;for(;e.getBCHDigit(b)-a>=0;)b^=o<<e.getBCHDigit(b)-a;return h<<12|b}}(pn)),pn}var mn={},Dr;function la(){if(Dr)return mn;Dr=1;const n=Ne(),e=1335,t=21522,r=n.getBCHDigit(e);return mn.getEncodedBits=function(s,o){const a=s.bit<<3|o;let l=a<<10;for(;n.getBCHDigit(l)-r>=0;)l^=e<<n.getBCHDigit(l)-r;return(a<<10|l)^t},mn}var yn={},_n,Fr;function ca(){if(Fr)return _n;Fr=1;const n=Le();function e(t){this.mode=n.NUMERIC,this.data=t.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,s,o;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),o=parseInt(s,10),r.put(o,10);const a=this.data.length-i;a>0&&(s=this.data.substr(i),o=parseInt(s,10),r.put(o,a*3+1))},_n=e,_n}var wn,xr;function ua(){if(xr)return wn;xr=1;const n=Le(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(r){this.mode=n.ALPHANUMERIC,this.data=r}return t.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let o=e.indexOf(this.data[s])*45;o+=e.indexOf(this.data[s+1]),i.put(o,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},wn=t,wn}var Cn,Kr;function fa(){if(Kr)return Cn;Kr=1;const n=Le();function e(t){this.mode=n.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(t){for(let r=0,i=this.data.length;r<i;r++)t.put(this.data[r],8)},Cn=e,Cn}var Sn,Vr;function da(){if(Vr)return Sn;Vr=1;const n=Le(),e=Ne();function t(r){this.mode=n.KANJI,this.data=r}return t.getBitsLength=function(i){return i*13},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},Sn=t,Sn}var En={exports:{}},Hr;function ha(){return Hr||(Hr=1,function(n){var e={single_source_shortest_paths:function(t,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,d,f,u,h,b,v,I;!a.empty();){l=a.pop(),c=l.value,f=l.cost,u=t[c]||{};for(d in u)u.hasOwnProperty(d)&&(h=u[d],b=f+h,v=o[d],I=typeof o[d]>"u",(I||v>b)&&(o[d]=b,a.push(d,b),s[d]=c))}if(typeof i<"u"&&typeof o[i]>"u"){var m=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(m)}return s},extract_shortest_path_from_predecessor_list:function(t,r){for(var i=[],s=r;s;)i.push(s),t[s],s=t[s];return i.reverse(),i},find_path:function(t,r,i){var s=e.single_source_shortest_paths(t,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(t){var r=e.PriorityQueue,i={},s;t=t||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=t.sorter||r.default_sorter,i},default_sorter:function(t,r){return t.cost-r.cost},push:function(t,r){var i={value:t,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e}(En)),En.exports}var zr;function ga(){return zr||(zr=1,function(n){const e=Le(),t=ca(),r=ua(),i=fa(),s=da(),o=zi(),a=Ne(),l=ha();function c(m){return unescape(encodeURIComponent(m)).length}function d(m,k,w){const E=[];let C;for(;(C=m.exec(w))!==null;)E.push({data:C[0],index:C.index,mode:k,length:C[0].length});return E}function f(m){const k=d(o.NUMERIC,e.NUMERIC,m),w=d(o.ALPHANUMERIC,e.ALPHANUMERIC,m);let E,C;return a.isKanjiModeEnabled()?(E=d(o.BYTE,e.BYTE,m),C=d(o.KANJI,e.KANJI,m)):(E=d(o.BYTE_KANJI,e.BYTE,m),C=[]),k.concat(w,E,C).sort(function(p,_){return p.index-_.index}).map(function(p){return{data:p.data,mode:p.mode,length:p.length}})}function u(m,k){switch(k){case e.NUMERIC:return t.getBitsLength(m);case e.ALPHANUMERIC:return r.getBitsLength(m);case e.KANJI:return s.getBitsLength(m);case e.BYTE:return i.getBitsLength(m)}}function h(m){return m.reduce(function(k,w){const E=k.length-1>=0?k[k.length-1]:null;return E&&E.mode===w.mode?(k[k.length-1].data+=w.data,k):(k.push(w),k)},[])}function b(m){const k=[];for(let w=0;w<m.length;w++){const E=m[w];switch(E.mode){case e.NUMERIC:k.push([E,{data:E.data,mode:e.ALPHANUMERIC,length:E.length},{data:E.data,mode:e.BYTE,length:E.length}]);break;case e.ALPHANUMERIC:k.push([E,{data:E.data,mode:e.BYTE,length:E.length}]);break;case e.KANJI:k.push([E,{data:E.data,mode:e.BYTE,length:c(E.data)}]);break;case e.BYTE:k.push([{data:E.data,mode:e.BYTE,length:c(E.data)}])}}return k}function v(m,k){const w={},E={start:{}};let C=["start"];for(let g=0;g<m.length;g++){const p=m[g],_=[];for(let y=0;y<p.length;y++){const T=p[y],A=""+g+y;_.push(A),w[A]={node:T,lastCount:0},E[A]={};for(let P=0;P<C.length;P++){const R=C[P];w[R]&&w[R].node.mode===T.mode?(E[R][A]=u(w[R].lastCount+T.length,T.mode)-u(w[R].lastCount,T.mode),w[R].lastCount+=T.length):(w[R]&&(w[R].lastCount=T.length),E[R][A]=u(T.length,T.mode)+4+e.getCharCountIndicator(T.mode,k))}}C=_}for(let g=0;g<C.length;g++)E[C[g]].end=0;return{map:E,table:w}}function I(m,k){let w;const E=e.getBestModeForData(m);if(w=e.from(k,E),w!==e.BYTE&&w.bit<E.bit)throw new Error('"'+m+'" cannot be encoded with mode '+e.toString(w)+`.
 Suggested mode is: `+e.toString(E));switch(w===e.KANJI&&!a.isKanjiModeEnabled()&&(w=e.BYTE),w){case e.NUMERIC:return new t(m);case e.ALPHANUMERIC:return new r(m);case e.KANJI:return new s(m);case e.BYTE:return new i(m)}}n.fromArray=function(k){return k.reduce(function(w,E){return typeof E=="string"?w.push(I(E,null)):E.data&&w.push(I(E.data,E.mode)),w},[])},n.fromString=function(k,w){const E=f(k,a.isKanjiModeEnabled()),C=b(E),g=v(C,w),p=l.find_path(g.map,"start","end"),_=[];for(let y=1;y<p.length-1;y++)_.push(g.table[p[y]].node);return n.fromArray(h(_))},n.rawSplit=function(k){return n.fromArray(f(k,a.isKanjiModeEnabled()))}}(yn)),yn}var $r;function pa(){if($r)return on;$r=1;const n=Ne(),e=Yn(),t=Zo(),r=ea(),i=ta(),s=na(),o=ra(),a=Vi(),l=oa(),c=aa(),d=la(),f=Le(),u=ga();function h(g,p){const _=g.size,y=s.getPositions(p);for(let T=0;T<y.length;T++){const A=y[T][0],P=y[T][1];for(let R=-1;R<=7;R++)if(!(A+R<=-1||_<=A+R))for(let O=-1;O<=7;O++)P+O<=-1||_<=P+O||(R>=0&&R<=6&&(O===0||O===6)||O>=0&&O<=6&&(R===0||R===6)||R>=2&&R<=4&&O>=2&&O<=4?g.set(A+R,P+O,!0,!0):g.set(A+R,P+O,!1,!0))}}function b(g){const p=g.size;for(let _=8;_<p-8;_++){const y=_%2===0;g.set(_,6,y,!0),g.set(6,_,y,!0)}}function v(g,p){const _=i.getPositions(p);for(let y=0;y<_.length;y++){const T=_[y][0],A=_[y][1];for(let P=-2;P<=2;P++)for(let R=-2;R<=2;R++)P===-2||P===2||R===-2||R===2||P===0&&R===0?g.set(T+P,A+R,!0,!0):g.set(T+P,A+R,!1,!0)}}function I(g,p){const _=g.size,y=c.getEncodedBits(p);let T,A,P;for(let R=0;R<18;R++)T=Math.floor(R/3),A=R%3+_-8-3,P=(y>>R&1)===1,g.set(T,A,P,!0),g.set(A,T,P,!0)}function m(g,p,_){const y=g.size,T=d.getEncodedBits(p,_);let A,P;for(A=0;A<15;A++)P=(T>>A&1)===1,A<6?g.set(A,8,P,!0):A<8?g.set(A+1,8,P,!0):g.set(y-15+A,8,P,!0),A<8?g.set(8,y-A-1,P,!0):A<9?g.set(8,15-A-1+1,P,!0):g.set(8,15-A-1,P,!0);g.set(y-8,8,1,!0)}function k(g,p){const _=g.size;let y=-1,T=_-1,A=7,P=0;for(let R=_-1;R>0;R-=2)for(R===6&&R--;;){for(let O=0;O<2;O++)if(!g.isReserved(T,R-O)){let ne=!1;P<p.length&&(ne=(p[P]>>>A&1)===1),g.set(T,R-O,ne),A--,A===-1&&(P++,A=7)}if(T+=y,T<0||_<=T){T-=y,y=-y;break}}}function w(g,p,_){const y=new t;_.forEach(function(O){y.put(O.mode.bit,4),y.put(O.getLength(),f.getCharCountIndicator(O.mode,g)),O.write(y)});const T=n.getSymbolTotalCodewords(g),A=a.getTotalCodewordsCount(g,p),P=(T-A)*8;for(y.getLengthInBits()+4<=P&&y.put(0,4);y.getLengthInBits()%8!==0;)y.putBit(0);const R=(P-y.getLengthInBits())/8;for(let O=0;O<R;O++)y.put(O%2?17:236,8);return E(y,g,p)}function E(g,p,_){const y=n.getSymbolTotalCodewords(p),T=a.getTotalCodewordsCount(p,_),A=y-T,P=a.getBlocksCount(p,_),R=y%P,O=P-R,ne=Math.floor(y/P),ke=Math.floor(A/P),zt=ke+1,et=ne-ke,_t=new l(et);let Te=0;const Re=new Array(P),wt=new Array(P);let tt=0;const $t=new Uint8Array(g.buffer);for(let ce=0;ce<P;ce++){const nt=ce<O?ke:zt;Re[ce]=$t.slice(Te,Te+nt),wt[ce]=_t.encode(Re[ce]),Te+=nt,tt=Math.max(tt,nt)}const Be=new Uint8Array(y);let Ct=0,W,Q;for(W=0;W<tt;W++)for(Q=0;Q<P;Q++)W<Re[Q].length&&(Be[Ct++]=Re[Q][W]);for(W=0;W<et;W++)for(Q=0;Q<P;Q++)Be[Ct++]=wt[Q][W];return Be}function C(g,p,_,y){let T;if(Array.isArray(g))T=u.fromArray(g);else if(typeof g=="string"){let ne=p;if(!ne){const ke=u.rawSplit(g);ne=c.getBestVersionForData(ke,_)}T=u.fromString(g,ne||40)}else throw new Error("Invalid data");const A=c.getBestVersionForData(T,_);if(!A)throw new Error("The amount of data is too big to be stored in a QR Code");if(!p)p=A;else if(p<A)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+A+`.
`);const P=w(p,_,T),R=n.getSymbolSize(p),O=new r(R);return h(O,p),b(O),v(O,p),m(O,_,0),p>=7&&I(O,p),k(O,P),isNaN(y)&&(y=o.getBestMask(O,m.bind(null,O,_))),o.applyMask(y,O),m(O,_,y),{modules:O,version:p,errorCorrectionLevel:_,maskPattern:y,segments:T}}return on.create=function(p,_){if(typeof p>"u"||p==="")throw new Error("No input text");let y=e.M,T,A;return typeof _<"u"&&(y=e.from(_.errorCorrectionLevel,e.M),T=c.from(_.version),A=o.from(_.maskPattern),_.toSJISFunc&&n.setToSJISFunction(_.toSJISFunc)),C(p,T,y,A)},on}var kn={},Tn={},Jr;function $i(){return Jr||(Jr=1,function(n){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let r=t.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+t);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},n.getImageWidth=function(r,i){const s=n.getScale(r,i);return Math.floor((r+i.margin*2)*s)},n.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,l=n.getScale(o,s),c=Math.floor((o+s.margin*2)*l),d=s.margin*l,f=[s.color.light,s.color.dark];for(let u=0;u<c;u++)for(let h=0;h<c;h++){let b=(u*c+h)*4,v=s.color.light;if(u>=d&&h>=d&&u<c-d&&h<c-d){const I=Math.floor((u-d)/l),m=Math.floor((h-d)/l);v=f[a[I*o+m]?1:0]}r[b++]=v.r,r[b++]=v.g,r[b++]=v.b,r[b]=v.a}}}(Tn)),Tn}var Gr;function ba(){return Gr||(Gr=1,function(n){const e=$i();function t(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(s,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=r()),l=e.getOptions(l);const d=e.getImageWidth(s.modules.size,l),f=c.getContext("2d"),u=f.createImageData(d,d);return e.qrToImageData(u.data,s,l),t(f,c,d),f.putImageData(u,0,0),c},n.renderToDataURL=function(s,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=n.render(s,o,l),d=l.type||"image/png",f=l.rendererOpts||{};return c.toDataURL(d,f.quality)}}(kn)),kn}var Rn={},Yr;function va(){if(Yr)return Rn;Yr=1;const n=$i();function e(i,s){const o=i.a/255,a=s+'="'+i.hex+'"';return o<1?a+" "+s+'-opacity="'+o.toFixed(2).slice(1)+'"':a}function t(i,s,o){let a=i+s;return typeof o<"u"&&(a+=" "+o),a}function r(i,s,o){let a="",l=0,c=!1,d=0;for(let f=0;f<i.length;f++){const u=Math.floor(f%s),h=Math.floor(f/s);!u&&!c&&(c=!0),i[f]?(d++,f>0&&u>0&&i[f-1]||(a+=c?t("M",u+o,.5+h+o):t("m",l,0),l=0,c=!1),u+1<s&&i[f+1]||(a+=t("h",d),d=0)):l++}return a}return Rn.render=function(s,o,a){const l=n.getOptions(o),c=s.modules.size,d=s.modules.data,f=c+l.margin*2,u=l.color.light.a?"<path "+e(l.color.light,"fill")+' d="M0 0h'+f+"v"+f+'H0z"/>':"",h="<path "+e(l.color.dark,"stroke")+' d="'+r(d,c,l.margin)+'"/>',b='viewBox="0 0 '+f+" "+f+'"',I='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+b+' shape-rendering="crispEdges">'+u+h+`</svg>
`;return typeof a=="function"&&a(null,I),I},Rn}var Wr;function ma(){if(Wr)return xe;Wr=1;const n=Xo(),e=pa(),t=ba(),r=va();function i(s,o,a,l,c){const d=[].slice.call(arguments,1),f=d.length,u=typeof d[f-1]=="function";if(!u&&!n())throw new Error("Callback required as last argument");if(u){if(f<2)throw new Error("Too few arguments provided");f===2?(c=a,a=o,o=l=void 0):f===3&&(o.getContext&&typeof c>"u"?(c=l,l=void 0):(c=l,l=a,a=o,o=void 0))}else{if(f<1)throw new Error("Too few arguments provided");return f===1?(a=o,o=l=void 0):f===2&&!o.getContext&&(l=a,a=o,o=void 0),new Promise(function(h,b){try{const v=e.create(a,l);h(s(v,o,l))}catch(v){b(v)}})}try{const h=e.create(a,l);c(null,s(h,o,l))}catch(h){c(h)}}return xe.create=e.create,xe.toCanvas=i.bind(null,t.render),xe.toDataURL=i.bind(null,t.renderToDataURL),xe.toString=i.bind(null,function(s,o,a){return r.render(s,a)}),xe}var ya=ma();const _a=Qo(ya);async function wa(n,e,t,r,i,s){for(let o of n.target.files)console.log(o),N(e,o,!0),N(t,S(e).name,!0),console.log(S(e).size),N(r,!0),S(e).size>5e7?i("Big ol' file","That file is pretty big. It might take a hot minute to upload",5e3):S(e).size>5e8?i("Goodness gracious that's a huge file","That file is pretty massive. You know what else is massive??? The amount of time it'll take to upload",5e3):S(e).size>1e9?i("🚨 🚨 Big file alert 🚨 🚨","That file is more than a GB. If you haven't zipped it already, please do so...",5e3):N(r,!1),await s()}var Ca=te('<img class="thumbnailImage svelte-14bkcbi" alt="thumbnail"/>'),Sa=te('<img src="src\\assets\\icons8-file-250.png" class="thumbnailImage svelte-14bkcbi" alt="thumbnail"/>'),Ea=te('<div class="itemContainer svelte-14bkcbi"><div class="imageContainer svelte-14bkcbi"><!> </div> <div class="controlContainer svelte-14bkcbi"><button class="iconButton icon svelte-14bkcbi">N</button> <button class="iconButton icon svelte-14bkcbi">|</button> <button class="iconButton icon svelte-14bkcbi">U</button></div></div>'),ka=te('<div class="itemContainer svelte-14bkcbi" style="flex-direction: row; padding: 10px; width: 100%;"><div class="imageContainer svelte-14bkcbi" style="width: 70%;"> </div> <div class="controlContainer svelte-14bkcbi" style="width: 30%;"><button class="iconButton icon svelte-14bkcbi">N</button> <button class="iconButton icon svelte-14bkcbi">|</button> <button class="iconButton icon svelte-14bkcbi">U</button></div></div>'),Ta=te("<h1>No files here</h1>"),Ra=(n,e)=>{N(e,"hidden")},Ia=te('<div class="itemContainer svelte-14bkcbi"><div class="imageContainer svelte-14bkcbi"><img src="src\\assets\\icons8-file-250.png" class="thumbnailImage svelte-14bkcbi" alt="thumbnail"/> Example</div> <div class="controlContainer svelte-14bkcbi"><button class="iconButton icon svelte-14bkcbi">N</button> <button class="iconButton icon svelte-14bkcbi">|</button> <button class="iconButton icon svelte-14bkcbi">U</button></div></div>'),Aa=te('<div class="itemContainer svelte-14bkcbi" style="flex-direction: row; padding: 10px; width: 100%;"><div class="imageContainer svelte-14bkcbi" style="width: 70%;">Example</div> <div class="controlContainer svelte-14bkcbi" style="width: 30%;"><button class="iconButton icon svelte-14bkcbi">N</button> <button class="iconButton icon svelte-14bkcbi">|</button> <button class="iconButton icon svelte-14bkcbi">U</button></div></div>'),Pa=(n,e)=>{N(e,"")},Oa=(n,e)=>{N(e,"hidden")},Na=te('<div><span class="header svelte-14bkcbi"><h1 class="svelte-14bkcbi"> </h1></span> <p1> </p1></div> <input type="file" multiple id="uploadButton" style="visibility: hidden;"/> <div class="container svelte-14bkcbi"><!></div> <div class="spacer svelte-14bkcbi"></div> <label for="closeSettings"></label> <button id="closeSettings" style="visibility: hidden; position: fixed;" class="svelte-14bkcbi">X</button> <div><p1>Icon size</p1> <input type="range" min="0" max="256" step="64"/> <!></div> <span class="controlBar svelte-14bkcbi"><label class="inputArea svelte-14bkcbi" style="flex-direction: row;" for="uploadButton"><i class="icon svelte-14bkcbi">^</i> Upload</label> <button class="iconButton icon svelte-14bkcbi" style="width: 10%; height: 100%; background-color: #1a1a1a; border-radius: 20px;">_</button></span> <label for="close"></label> <div><span class="inputArea svelte-14bkcbi" style="width: 100%; height: 100%;"><textarea readonly="" class="svelte-14bkcbi"></textarea></span> <button id="close" style="visibility: hidden; position: fixed;" class="svelte-14bkcbi">X</button> <img alt="QRCode" class="qr svelte-14bkcbi"/></div>',1);function La(n,e){vt(e,!0);let t=F(null),r=F("None"),i=F("hidden"),s=F(""),o=F(""),a=F(!1),l=F(128),c=F(""),d=F("hidden"),f=F(""),u=F("hidden"),h=F(se([]));const b=L=>Fe.files.getURL(S(h)[L],S(h)[L].data)+"?download=1",v=L=>{let D=S(h)[L].name.split("."),K=D[D.length-1];return K=="png"||K=="jpg"||K=="jpeg"||K=="gif"||K=="webp"?(console.log("returning thumb"),Fe.files.getURL(S(h)[L],S(h)[L].data,{thumb:"256x256"})):"null"},I=()=>{S(i)=="hidden"?N(i,""):N(i,"hidden")},m=(L,D,K)=>{N(s,L,!0),N(o,D,!0),I(),setTimeout(()=>{I()},K)};async function k(){try{const L={name:S(r),data:S(t)};await Fe.collection("Files").create(L)&&console.log("File Uploaded"),N(t,null),N(r,"None")}catch(L){L instanceof J?L.status==400?m("Invalid File","Failed to upload because of an invalid file. Select a different file, or try zipping it",5e3):L.status==0&&m("Network Error","Could not connect to the file server. Try again later",5e3):m("Error","Something went wrong. Try again later",5e3)}}let w;Bi(async()=>{console.log("mounting and subscribing");const L=await Fe.collection("Files").getFullList({sort:"-created"});N(h,L,!0),w=await Fe.collection("Files").subscribe("*",async({action:D,record:K})=>{D==="create"&&(console.log("jacsijfijoa"),S(h).push(K))})}),qi(()=>{w==null||w()});async function E(L){await Fe.collection("Files").delete(S(h)[L].id),S(h).splice(L,1)}const C=L=>{console.log("BLAHHH");let D="";N(f,b(L),!0),_a.toDataURL(S(f),{errorCorrectionLevel:"L"},function(re,Ie){D=Ie});const K=atob(D.split(",")[1]),qe=[];for(let re=0;re<K.length;re++){const Ie=K.charCodeAt(re);qe.push(Ie)}const Jt=new Uint8Array(qe),pe=new Blob([Jt],{type:"image/png"});N(c,URL.createObjectURL(pe),!0),N(d,"")};var g=Na(),p=fe(g),_=j(p),y=j(_),T=j(y),A=M(_,2),P=j(A),R=M(p,2);R.__change=[wa,t,r,a,m,k];var O=M(R,2),ne=j(O);{var ke=L=>{var D=ze(),K=fe(D);{var qe=pe=>{var re=ze(),Ie=fe(re);or(Ie,17,()=>S(h),sr,(Gt,Yt,ue,Gi)=>{var rt=Ea(),it=j(rt),St=j(it);{var Wt=Ue=>{var Me=Ca();Ae(Wi=>{cr(Me,"src",Wi),Zt(Me,`width: ${S(l)??""}px;`)},[()=>v(ue)]),x(Ue,Me)},Et=Ue=>{var Me=Sa();Ae(()=>Zt(Me,`width: ${S(l)??""}px;`)),x(Ue,Me)};lt(St,Ue=>{v(ue)!="null"?Ue(Wt):Ue(Et,!1)})}var kt=M(St),Qt=M(it,2),Qn=j(Qt);Qn.__click=()=>C(ue);var Xn=M(Qn,2);Xn.__click=()=>{window.location.href=b(ue)};var Yi=M(Xn,2);Yi.__click=()=>E(ue),Ae(()=>Ve(kt,` ${S(Yt).name??""}`)),x(Gt,rt)}),x(pe,re)},Jt=pe=>{var re=ze(),Ie=fe(re);or(Ie,17,()=>S(h),sr,(Gt,Yt,ue,Gi)=>{var rt=ka(),it=j(rt),St=j(it),Wt=M(it,2),Et=j(Wt);Et.__click=()=>C(ue);var kt=M(Et,2);kt.__click=()=>{window.location.href=b(ue)};var Qt=M(kt,2);Qt.__click=()=>E(ue),Ae(()=>Ve(St,S(Yt).name)),x(Gt,rt)}),x(pe,re)};lt(K,pe=>{S(l)>=64?pe(qe):pe(Jt,!1)})}x(L,D)},zt=L=>{var D=Ta();x(L,D)};lt(ne,L=>{S(h).length!=0?L(ke):L(zt,!1)})}var et=M(O,4),_t=M(et,2);_t.__click=[Ra,u];var Te=M(_t,2),Re=M(j(Te),2),wt=M(Re,2);{var tt=L=>{var D=Ia(),K=j(D),qe=j(K);Ae(()=>Zt(qe,`width: ${S(l)??""}px;`)),x(L,D)},$t=L=>{var D=Aa();x(L,D)};lt(wt,L=>{S(l)>=64?L(tt):L($t,!1)})}var Be=M(Te,2),Ct=M(j(Be),2);Ct.__click=[Pa,u];var W=M(Be,2),Q=M(W,2),ce=j(Q),nt=j(ce),Wn=M(ce,2);Wn.__click=[Oa,d];var Ji=M(Wn,2);Ae(()=>{Ke(p,1,`notification ${S(i)??""}`,"svelte-14bkcbi"),Ve(T,S(s)),Ve(P,S(o)),Ke(et,1,`blocker ${S(u)??""}`,"svelte-14bkcbi"),Ke(Te,1,`announcer ${S(u)??""}`,"svelte-14bkcbi"),Ke(W,1,`blocker ${S(d)??""}`,"svelte-14bkcbi"),Ke(Q,1,`announcer ${S(d)??""}`,"svelte-14bkcbi"),cr(Ji,"src",S(c))}),fr(Re,()=>S(l),L=>N(l,L)),fr(nt,()=>S(f),L=>N(f,L)),x(n,g),mt()}Hn(["change","click"]);const Ba={"/":No,"/uplink":La};var at=bo(()=>ct),qa=te('<button id="close" style="visibility: hidden; position: fixed;" aria-label="jifgifgsd"></button> <label for="close"><span class="svelte-1f2bb6i"><h1 class="svelte-1f2bb6i"> </h1></span> <p1 class="svelte-1f2bb6i"> </p1></label>',1);function Ua(n,e){vt(e,!1),zn();var t=qa(),r=fe(t);r.__click=()=>{at(at().status="hidden")};var i=M(r,2),s=j(i),o=j(s),a=j(o),l=M(s,2),c=j(l);Ae(()=>{Ke(i,1,`notification ${at().status??""}`,"svelte-1f2bb6i"),Ve(a,at().name),Ve(c,at().value)}),x(n,t),mt()}Hn(["click"]);var Ma=te("<!> <!>",1);function ja(n){var e=Ma(),t=fe(e);Ua(t,{});var r=M(t,2);Ro(r,{get routes(){return Ba}}),x(n,e)}no(ja,{target:document.getElementById("app")});
